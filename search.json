[{"path":"/LICENSE.html","id":"mit-license","dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 httr2 authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/httr2.html","id":"create-a-request","dir":"Articles","previous_headings":"","what":"Create a request","title":"httr2","text":"httr2, start creating request. ’re familiar httr, big change: httr submit request, immediately receiving response. explicit request object makes easier build complex request piece piece works well pipe. Every request starts URL: can see exactly request send server dry run: first line request contains three important pieces information: HTTP method, verb tells server want . ’s GET, common verb, indicating want get data. verbs include POST, send data, PUT, update existing resource, DELETE, delete resources. path, url stripped details server already knows, .e. protocol (http https), host (httpbin.org) port (used ). version HTTP protocol. unimportant purposes ’s handled lower layer stack. following lines specify HTTP headers, series name-value pairs separated “:”. headers request automatically added httr2, can override add req_headers(): Header names case-insensitive, servers ignore headers don’t understand. headers finish blank line followed body. requests (like GET requests) don’t body, let’s add one see happens. req_body_*() functions provide variety ways add data body. ’ll use req_body_json() add data encoded JSON: ’s changed? method changed GET POST. POST standard method sending data website, automatically used whenever add body. need use different method, call req_method(). two new headers: Content-Type Content-Length. tell server interpret body — ’s encoded JSON 15 bytes long. body, consisting JSON. Different servers need data stored different formats httr2 provides selection common options. example, req_body_form() uses encoding used submit form browser: req_body_multipart() uses multipart encoding particularly important need send larger amounts data complete files: need send data encoded different form, can use req_body_raw() add data body set Content-Type header.","code":"req <- request(\"https://httpbin.org/get\") req #> <httr2_request> #> GET https://httpbin.org/get #> Body: empty req %>% req_dry_run() #> GET /get HTTP/1.1 #> Host: httpbin.org #> User-Agent: httr2/0.0.0.9000 r-curl/4.3.2 libcurl/7.68.0 #> Accept: */* #> Accept-Encoding: deflate, gzip, br req %>%   req_headers(     Name = \"Hadley\",      `Shoe-Size` = \"11\",      Accept = \"application/json\"   ) %>%    req_dry_run() #> GET /get HTTP/1.1 #> Host: httpbin.org #> User-Agent: httr2/0.0.0.9000 r-curl/4.3.2 libcurl/7.68.0 #> Accept-Encoding: deflate, gzip, br #> Name: Hadley #> Shoe-Size: 11 #> Accept: application/json req %>%   req_body_json(list(x = 1, y = \"a\")) %>%    req_dry_run() #> POST /get HTTP/1.1 #> Host: httpbin.org #> User-Agent: httr2/0.0.0.9000 r-curl/4.3.2 libcurl/7.68.0 #> Accept: */* #> Accept-Encoding: deflate, gzip, br #> Content-Type: application/json #> Content-Length: 15 #>  #> {\"x\":1,\"y\":\"a\"} req %>%   req_body_form(list(x = \"1\", y = \"a\")) %>%    req_dry_run() #> POST /get HTTP/1.1 #> Host: httpbin.org #> User-Agent: httr2/0.0.0.9000 r-curl/4.3.2 libcurl/7.68.0 #> Accept: */* #> Accept-Encoding: deflate, gzip, br #> Content-Type: application/x-www-form-urlencoded #> Content-Length: 7 #>  #> x=1&y=a req %>%   req_body_multipart(list(x = \"1\", y = \"a\")) %>%    req_dry_run() #> POST /get HTTP/1.1 #> Host: httpbin.org #> User-Agent: httr2/0.0.0.9000 r-curl/4.3.2 libcurl/7.68.0 #> Accept: */* #> Accept-Encoding: deflate, gzip, br #> Content-Length: 228 #> Content-Type: multipart/form-data; boundary=------------------------dfa814a7fe14d040 #>  #> --------------------------dfa814a7fe14d040 #> Content-Disposition: form-data; name=\"x\" #>  #> 1 #> --------------------------dfa814a7fe14d040 #> Content-Disposition: form-data; name=\"y\" #>  #> a #> --------------------------dfa814a7fe14d040--"},{"path":"/articles/httr2.html","id":"perform-a-request-and-fetch-the-response","dir":"Articles","previous_headings":"","what":"Perform a request and fetch the response","title":"httr2","text":"actually perform request fetch response back server, call req_perform(): can see simulation httr2 actually received resp_raw(): HTTP response similar structure HTTP request. first line gives version HTTP used, status code ’s optionally followed short description. headers, followed blank line, followed body. majority responses body, unlike requests. can extract data response using resp_() functions: resp_status() returns status code resp_status_desc() returns description: can extract headers resp_headers() specific header resp_header(): Headers case insensitive: can extract body various forms using resp_body_*() family functions. Since response returns JSON can use resp_body_json(): Responses status codes 4xx 5xx HTTP errors. httr2 automatically turns R errors: another important difference httr, required explicitly call httr::stop_for_status() turn HTTP errors R errors. Revert httr behaviour req_error(req, is_error = ~ FALSE).","code":"req <- request(\"https://httpbin.org/json\") resp <- req %>% req_perform() resp #> <httr2_response> #> GET https://httpbin.org/json #> Status: 200 OK #> Content-Type: application/json #> Body: In memory (429 bytes) resp %>% resp_raw() #> HTTP/1.1 200 OK #> date: Wed, 01 Sep 2021 13:40:02 GMT #> content-type: application/json #> content-length: 429 #> server: gunicorn/19.9.0 #> access-control-allow-origin: * #> access-control-allow-credentials: true #>  #> { #>   \"slideshow\": { #>     \"author\": \"Yours Truly\",  #>     \"date\": \"date of publication\",  #>     \"slides\": [ #>       { #>         \"title\": \"Wake up to WonderWidgets!\",  #>         \"type\": \"all\" #>       },  #>       { #>         \"items\": [ #>           \"Why <em>WonderWidgets<\/em> are great\",  #>           \"Who <em>buys<\/em> WonderWidgets\" #>         ],  #>         \"title\": \"Overview\",  #>         \"type\": \"all\" #>       } #>     ],  #>     \"title\": \"Sample Slide Show\" #>   } #> } resp %>% resp_status() #> [1] 200 resp %>% resp_status_desc() #> [1] \"OK\" resp %>% resp_headers() #> <httr2_headers> #> date: Wed, 01 Sep 2021 13:40:02 GMT #> content-type: application/json #> content-length: 429 #> server: gunicorn/19.9.0 #> access-control-allow-origin: * #> access-control-allow-credentials: true resp %>% resp_header(\"Content-Length\") #> [1] \"429\" resp %>% resp_header(\"ConTEnT-LeNgTH\") #> [1] \"429\" resp %>% resp_body_json() %>% str() #> List of 1 #>  $ slideshow:List of 4 #>   ..$ author: chr \"Yours Truly\" #>   ..$ date  : chr \"date of publication\" #>   ..$ slides:List of 2 #>   .. ..$ :List of 2 #>   .. .. ..$ title: chr \"Wake up to WonderWidgets!\" #>   .. .. ..$ type : chr \"all\" #>   .. ..$ :List of 3 #>   .. .. ..$ items:List of 2 #>   .. .. .. ..$ : chr \"Why <em>WonderWidgets<\/em> are great\" #>   .. .. .. ..$ : chr \"Who <em>buys<\/em> WonderWidgets\" #>   .. .. ..$ title: chr \"Overview\" #>   .. .. ..$ type : chr \"all\" #>   ..$ title : chr \"Sample Slide Show\" request(\"https://httpbin.org/status/404\") %>% req_perform() #> Error: HTTP 404 Not Found. request(\"https://httpbin.org/status/500\") %>% req_perform() #> Error: HTTP 500 Internal Server Error."},{"path":"/articles/httr2.html","id":"control-the-request-process","dir":"Articles","previous_headings":"","what":"Control the request process","title":"httr2","text":"number req_ functions don’t directly affect request sent affect process submitting request handling response. won’t give details , aware following important functions: req_cache() sets cache repeated requests return results, can avoid trip server. req_throttle() automatically add small delay request can avoid hammering server many requests. req_retry() sets retry strategy request either fails get transient HTTP error, ’ll automatically retry short delay.","code":""},{"path":"/articles/wrapping-apis.html","id":"basics","dir":"Articles","previous_headings":"","what":"Basics","title":"Wrapping APIs","text":"’ll start simple API, faker API, provides collection techniques generating fake data. start writing sort functions might put package, ’ll perform request just see basics work:","code":"# We start by creating a request that uses the base API url req <- request(\"https://fakerapi.it/api/v1\") resp <- req %>%    # Then we add on the images path   req_url_path_append(\"images\") %>%    # Add set _width and _quantity query parameters   req_url_query(`_width` = 380, `_quantity` = 1) %>%    req_perform()  # The result comes back as JSON resp %>% resp_body_json() %>% str() #> List of 4 #>  $ status: chr \"OK\" #>  $ code  : int 200 #>  $ total : int 1 #>  $ data  :List of 1 #>   ..$ :List of 3 #>   .. ..$ title      : chr \"Quos fugiat placeat rerum.\" #>   .. ..$ description: chr \"Inventore iure necessitatibus distinctio eum pariatur. Magni consequatur mollitia quisquam qui ut et quo. Ut be\"| __truncated__ #>   .. ..$ url        : chr \"http://placeimg.com/380/480/any\""},{"path":"/articles/wrapping-apis.html","id":"errors","dir":"Articles","previous_headings":"Basics","what":"Errors","title":"Wrapping APIs","text":"Next ’s worth little experimentation see get useful information errors. fetch URL returns unsuccesful HTTP response, ’ll get error can’t inspect body: see ’s going , ’ll need use req_error() turn default behaviour turns HTTP errors R errors: Now can look response body: doesn’t look like ’s anything useful ’ll double check headers: doesn’t look like ’re getting useful information, can leave default . ’ll another go later API provide details.","code":"req %>%    req_url_path_append(\"invalid\") %>%    req_perform() #> Error: HTTP 404 Not Found. resp <- req %>%    req_url_path_append(\"imagesasf\") %>%    req_error(is_error = ~ FALSE) %>%    req_perform() resp %>% resp_body_json() #> $status #> [1] \"Not found\" #>  #> $code #> [1] 404 #>  #> $total #> [1] 0 resp %>% resp_headers() #> <httr2_headers> #> Server: nginx #> Content-Type: application/json #> Transfer-Encoding: chunked #> Connection: keep-alive #> Vary: Accept-Encoding #> X-Powered-By: PHP/7.3.16 #> Cache-Control: no-cache, private #> Date: Wed, 01 Sep 2021 13:40:06 GMT #> Access-Control-Allow-Origin: * #> Access-Control-Allow-Methods: GET #> Access-Control-Allow-Credentials: true #> Access-Control-Max-Age: 86400 #> Access-Control-Allow-Headers: Content-Type, Authorization, X-Requested-With #> Content-Encoding: gzip"},{"path":"/articles/wrapping-apis.html","id":"making-a-function","dir":"Articles","previous_headings":"Basics","what":"Making a function","title":"Wrapping APIs","text":"’ve got basics, can wrap function. ’ll need decide want return request perform request return result. first gives flexibility, user need add two calls; second easier less flexible. Use defaults. Automatically add underscores. ’s one trick notice — req_url_query() uses dynamic dots, can use !!! convert (e.g.) req_url_query(req, !!!list(`_quantity` = 1, `_locale` = \"en_US\") req_url_query(req, `_quantity` = 1, `_locale` = \"en_US\"). cases, function internal use , ’ll continue make function endpoint useful R programmer. cases, might want export function sot experienced user can call endpoints haven’t yet wrapped. make app convenient R users, might continue adding functions convert nested list data frame. ’d suggest keeping code separate function since ’s likely vary endpoint.","code":"req_faker <- function(resource, ..., quantity = 1, locale = \"en_US\", seed = NULL) {   params <- list(     ...,     quantity = quantity,     locale = locale,     seed = seed   )   names(params) <- paste0(\"_\", names(params))      request(\"https://fakerapi.it/api/v1\") %>%      req_url_path_append(resource) %>%      req_url_query(!!!params) %>%      req_perform() %>%      resp_body_json() }  req_faker(\"images\", width = 300) #> $status #> [1] \"OK\" #>  #> $code #> [1] 200 #>  #> $total #> [1] 1 #>  #> $data #> $data[[1]] #> $data[[1]]$title #> [1] \"Rerum velit qui explicabo.\" #>  #> $data[[1]]$description #> [1] \"Eos maxime sint quos atque eligendi numquam. Cupiditate animi veniam ad pariatur temporibus iusto cumque. Ut commodi et et autem. Qui molestiae quis ipsum.\" #>  #> $data[[1]]$url #> [1] \"http://placeimg.com/300/480/any\""},{"path":"/articles/wrapping-apis.html","id":"user-agent","dir":"Articles","previous_headings":"Basics","what":"User agent","title":"Wrapping APIs","text":"go , Polite set user agent — https://github.com/r-lib/httr2/issues/43.","code":""},{"path":"/articles/wrapping-apis.html","id":"app-with-api-key","dir":"Articles","previous_headings":"","what":"App with API key","title":"Wrapping APIs","text":"Next ’ll take look NYTimes Books API. requires simple authentication — include API key query every request. don’t want share API key whole world ’ve encrypted secret_encrypt() ’ll decrypt vignette secret_decrypt(): encryption decryption relies key stored HTTR2_KEY environment variable. set computer GitHub actions vignette often run, won’t available computer CRAN. source vignette store whether ’s available nyt_ok <- secret_has_key(\"HTTR2_KEY\"), use eval = nyt_ok chunk code run possible. now allows us perform test request look response: Like modern APIs, one returns results JSON: start wrapping function lets explore happens errors.","code":"my_key <- secret_decrypt(\"4Nx84VPa83dMt3X6bv0fNBlLbv3U4D1kHM76YisKEfpCarBm1UHJHARwJHCFXQSV\", \"HTTR2_KEY\") resp <- request(\"https://api.nytimes.com/svc/books/v3\") %>%    req_url_path_append(\"/reviews.json\") %>%    req_url_query(`api-key` = my_key, isbn = 9780307476463) %>%    req_perform() resp resp %>%    resp_body_json() %>%    str()"},{"path":"/articles/wrapping-apis.html","id":"security-considerations","dir":"Articles","previous_headings":"App with API key","what":"Security considerations","title":"Wrapping APIs","text":"Note including API key query relatively insecure method; API uses typically key relatively easy create gives relatively privileges. Section 5.3 rfc6750 say passing bearer tokens1 URL: Don’t pass bearer tokens page URLs: Bearer tokens passed page URLs (example, query string parameters). Instead, bearer tokens passed HTTP message headers message bodies confidentiality measures taken. Browsers, web servers, software may adequately secure URLs browser history, web server logs, data structures. bearer tokens passed page URLs, attackers might able steal history data, logs, unsecured locations. httr2 makes efforts redact confidential information stored query parameters. means ’s relatively easy leak key use req_perform(verbose = 1) req_dry_run(). just means ’ll need little cautious need get help reprex; ’ll need manually redact key.","code":""},{"path":"/articles/wrapping-apis.html","id":"error-handling","dir":"Articles","previous_headings":"App with API key","what":"Error handling","title":"Wrapping APIs","text":"happens ’s error? example, deliberately supply invalid key: see ’s extra useful information can suppress default error inspect result: looks like ’s useful additional info faultstring: add information future errors can use info argument req_error(). re-fetch request, see additional information displayed R error:","code":"resp <- request(\"https://api.nytimes.com/svc/books/v3\") %>%    req_url_path_append(\"/reviews.json\") %>%    req_url_query(`api-key` = \"invalid\", isbn = 9780307476463) %>%    req_perform() resp <- request(\"https://api.nytimes.com/svc/books/v3\") %>%    req_url_path_append(\"/reviews.json\") %>%    req_url_query(`api-key` = \"invalid\", isbn = 9780307476463) %>%    req_error(is_error = ~ FALSE) %>%    req_perform() resp resp %>% resp_body_json() resp %>% resp_body_json() %>% .$fault %>% .$faultstring resp <- request(\"https://api.nytimes.com/svc/books/v3\") %>%    req_url_path_append(\"/reviews.json\") %>%    req_url_query(`api-key` = \"invalid\", isbn = 9780307476463) %>%    req_error(info = function(resp) {     resp %>% resp_body_json() %>% .$fault %>% .$faultstring   }) %>%    req_perform()"},{"path":"/articles/wrapping-apis.html","id":"rate-limits","dir":"Articles","previous_headings":"App with API key","what":"Rate limits","title":"Wrapping APIs","text":"frequently asked questions also mentions rate limits: Yes, two rate limits per API: 4,000 requests per day 10 requests per minute. sleep 6 seconds calls avoid hitting per minute rate limit. need higher rate limit, please contact us code@nytimes.com. Since docs don’t mention use Retry-header, ’ll use req_throttle() ensure don’t make 10 requests every 60s: limit automatically shared across requests made api.nytimes.com. Since docs suggest rate limit applies per API, might want use realm argument bit specific: Many APIs return additional information long wait rate limit exceeded. deliberately violated rate limit quickly making 11 requests; unfortunately response standard 429 (many requests), include information long wait either response body headers.","code":"req <- request(\"https://api.nytimes.com/svc/books/v3\") %>%    req_url_path_append(\"/reviews.json\") %>%    req_url_query(`api-key` = \"invalid\", isbn = 9780307476463) %>%    req_throttle(10 / 60) req <- request(\"https://api.nytimes.com/svc/books/v3\") %>%    req_url_path_append(\"/reviews.json\") %>%    req_url_query(`api-key` = \"invalid\", isbn = 9780307476463) %>%    req_throttle(10 / 60, realm = \"https://api.nytimes.com/svc/books\")"},{"path":"/articles/wrapping-apis.html","id":"wrapping-it-up","dir":"Articles","previous_headings":"App with API key","what":"Wrapping it up","title":"Wrapping APIs","text":"Putting together pieces yields function something like : , real package, ’d want spend time converting nested list user friendly data structure.","code":"nytimes_books <- function(api_key, path, ...) {   request(\"https://api.nytimes.com/svc/books/v3\") %>%      req_url_path_append(\"/reviews.json\") %>%      req_url_query(..., `api-key` = api_key) %>%      req_error(info = function(resp) {       resp %>% resp_body_json() %>% .$fault %>% .$faultstring     }) %>%      req_throttle(10 / 60, realm = \"https://api.nytimes.com/svc/books\") %>%      req_perform() %>%      resp_body_json() }  drunk <- nytimes_books(my_key, \"/reviews.json\", isbn = \"0316453382\") drunk$results[[1]]$summary"},{"path":"/articles/wrapping-apis.html","id":"api-key","dir":"Articles","previous_headings":"App with API key","what":"API key","title":"Wrapping APIs","text":"going put package, ’d need think convenient interface supplying API key. environment variable good place start ’re easy set without typing anything console (can get accidentally shared via .Rhistory) easily set automated processes. Since api_key longer required, can make last argument function. ’s still available override document, ’ll needed exceptional circumstances.","code":"get_api_key <- function() {   key <- Sys.getenv(\"NYTIMES_KEY\")   if (identical(key, \"\")) {     stop(\"No API key found, please supply with `api_key` argument or with NYTIMES_KEY env var\")   }   key }  req_nytimes_books <- function(path, ..., api_key = get_api_key()) {   ... }"},{"path":"/articles/wrapping-apis.html","id":"sending-data-http-methods","dir":"Articles","previous_headings":"","what":"Sending data & HTTP methods","title":"Wrapping APIs","text":"https://docs.github.com/en/rest/reference/gists#star--gist Just use basic auth: https://docs.github.com/en/rest/overview/-authentication-methods#basic-authentication username + token. Good example tokens: can many different tokens, can different things, can revoked without affecting token requiring change password. Need little careful tokens env vars. R package use. doesn’t really pose additional threat: R package can run code, ’s already powerful. worried attack vector need resolve ensuring process runs R locked (e.g. run container VM). Rate limiting: https://docs.github.com/en/rest/overview/resources---rest-api#rate-limiting","code":""},{"path":"/articles/wrapping-apis.html","id":"app-that-uses-oauth","dir":"Articles","previous_headings":"","what":"App that uses OAuth","title":"Wrapping APIs","text":"API provides access website user already account (think twitter, instagram, facebook, google, etc), ’s likely use OAuth allow authenticate behalf user. OAuth2 authentication framework ’s designed don’t share username password app; instead app asks permission use account. ’ve almost certainly used web; ’s used cases one website wants use another website behalf.","code":""},{"path":"/articles/wrapping-apis.html","id":"oauth-clients","dir":"Articles","previous_headings":"App that uses OAuth","what":"OAuth clients","title":"Wrapping APIs","text":"first step working OAuth api create client app. involves registering developer account APIs website creating new OAuth app. process varies API API, end ’ll client id cases client secret. API provides way authenticate without client secret, leave package. cases, ’ll need include secret package. can use obfuscate() hide secret; bullet proof people easier create new client try reuse . unusual OAuth client able anything right, even someone steal secret ’s much harm can (generally worst can use rate limits). obfuscate secret, call obfuscate(): use client id website along obfuscated secret create client: Note print client, httr2 automatically redacts secret — part general effort httr2 makes prevent accidentally exposing confidential information logs reprexes.","code":"obfuscate(\"secret\") #> obfuscated(\"tdRpazRRTjaEVypNQoeFmVU2MzrLBw\") client <- oauth_client(   id = \"client_id\",    secret = obfuscated(\"YVW06Lex\"),   token = \"https://accounts.google.com/o/oauth2/token\" ) client #> <httr2_oauth_client> #> name: 741ee61ebc1fc0f8fedcf12647c95cb3 #> id: client_id #> secret: <REDACTED> #> token_url: https://accounts.google.com/o/oauth2/token #> auth: oauth_client_req_auth_body"},{"path":"/articles/wrapping-apis.html","id":"oauth-app","dir":"Articles","previous_headings":"App that uses OAuth","what":"OAuth app","title":"Wrapping APIs","text":"client, ’ll need collect little information create OAuth app. app combination information client general information API. (perspective API client app synonymous ’s thinking ). information ’ll need varies little depending flow ’re using, common case look something like . ’ll pass client created , long list authentication endpoints. common case, ’ll need supply token authorization endpoints. Depending API set , may also need change auth parameter. ’ll come back shortly.","code":""},{"path":"/articles/wrapping-apis.html","id":"oauth-flows","dir":"Articles","previous_headings":"App that uses OAuth","what":"OAuth flows","title":"Wrapping APIs","text":"OAuth provides number different “flows”. common “authorisation code” flow, implemented req_oauth_auth_code(). goes something like : Client makes authorisation request resource owner, returns authorisation grant (four types defined rfc: authorisation code, implicit, resource owner password credentials, client credentials). Client makes authorisation grant authorisation server (can different resource server, even though appears rare practice) returns access token. Client uses access token access protected resources. req_auth_bearer_token() flows provide different ways getting token: req_oauth_client_credentials() used allow client perform actions behalf (instead behalf user). req_oauth_device() uses “device” flow designed devices like TVs don’t easy way enter data. also works well console. req_oauth_bearer_jwt() uses JWT signed private key. req_oauth_password() exchanges user name password access token. req_oauth_refresh() works directly refresh token ’ve got elsewhere. ’s useful testing. ’s one historically important OAuth flows httr2 doesn’t support: implicit grant flow. now mostly deprecated never particularly good fit native applications relies technique returning access token works inside web browser. wrapping API, ’ll need carefully read documentation figure flows available. Typically ’ll want use auth code flow, ’s available ’ll need carefully consider others. additional wrinkle many APIs don’t implement flow exactly way spec. initial attempt doesn’t work, ’re going need sleuthing. going moderately painful unfortunately ’s way around . recommend using with_verbose() can see exactly httr2 sending server. ’ll need carefully compare API documentation play spot difference. get started, recommend first working lower-level oauth_flow_*() functions. just return token (rather authenticating request) ’re easy work get system running.","code":""},{"path":"/articles/wrapping-apis.html","id":"token-caching","dir":"Articles","previous_headings":"App that uses OAuth","what":"Token caching","title":"Wrapping APIs","text":"Token caching. Many acess tokens also refresh token, way get new access tokens. httr2 can cache tokens. token expired refresh token, automatically refresh first request. request errors 401 error invalid_token try refresh token available, otherwise re-run full flow.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors","text":"Hadley Wickham. Author, maintainer. . Copyright holder, funder.","code":""},{"path":"/index.html","id":"httr2","dir":"","previous_headings":"","what":"Perform HTTP Requests and Process the Responses","title":"Perform HTTP Requests and Process the Responses","text":"httr2 ground-rewrite httr provides pipeable API (explicit request object) solves problems making API wrappers pain (e.g. rate-limiting, retries, OAuth, storing secrets needed testing, …).","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Perform HTTP Requests and Process the Responses","text":"can install development version GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"r-lib/httr2\")"},{"path":"/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Perform HTTP Requests and Process the Responses","text":"use httr2, start creating request: can tailor request req_ family functions: can see httr2 send server req_dry_run(): perform request, getting back response, req_perform(): resp_ functions make easy work response:","code":"library(httr2) req <- request(\"https://r-project.org\") req #> <httr2_request> #> GET https://r-project.org #> Body: empty # Add custom headers req %>% req_headers(\"Accept\" = \"application/json\") #> <httr2_request> #> GET https://r-project.org #> Headers: #> • Accept: 'application/json' #> Body: empty  # Add a body, turning it into a POST req %>% req_body_json(list(x = 1, y = 2)) #> <httr2_request> #> POST https://r-project.org #> Body: json encoded data  # Automatically retry if the request fails req %>% req_retry(max_tries = 5) #> <httr2_request> #> GET https://r-project.org #> Body: empty #> Policies: #> • retry_max_tries: 5  # Change the HTTP method req %>% req_method(\"PATCH\") #> <httr2_request> #> PATCH https://r-project.org #> Body: empty req %>% req_dry_run() #> GET / HTTP/1.1 #> Host: r-project.org #> User-Agent: httr2/0.0.0.9000 r-curl/4.3.2 libcurl/7.64.1 #> Accept: */* #> Accept-Encoding: deflate, gzip resp <- req_perform(req) resp #> <httr2_response> #> GET https://www.r-project.org/ #> Status: 200 OK #> Content-Type: text/html #> Body: In memory (6085 bytes) resp %>% resp_content_type() #> [1] \"text/html\" resp %>% resp_status_desc() #> [1] \"OK\" resp %>% resp_body_html() #> {html_document} #> <html lang=\"en\"> #> [1] <head>\\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8 ... #> [2] <body>\\n    <div class=\"container page\">\\n      <div class=\"row\">\\n       ..."},{"path":"/index.html","id":"major-differences-to-httr","dir":"","previous_headings":"","what":"Major differences to httr","title":"Perform HTTP Requests and Process the Responses","text":"can now create modify request without performing . means ’s now single function perform request fetch result: req_perform(). (want handle response streams , instead use req_stream()). replaces httr::GET(), POST(), DELETE(), VERB(), …. can preview request without sending req_dry_run(). HTTP errors automatically converted R errors. Use req_error() override defaults (turn 4xx 5xx responses errors) add additional details error message. can automatically retry request fails encounters transient HTTP error (e.g. 429 rate limit request). req_retry() defines maximum number retries, errors transient, long wait tries. OAuth support totally overhauled directly support many flows make much easier customise built-flows create . can manage encrypted secrets often needed testing secret_encrypt() friends. can obfuscate mildly confidential data (like many client secrets) obfuscate(), preventing scraped published code. can automatically cache cacheable results req_cache(). Relatively API responses cacheable, typically makes big difference.","code":""},{"path":"/index.html","id":"acknowledgements","dir":"","previous_headings":"","what":"Acknowledgements","title":"Perform HTTP Requests and Process the Responses","text":"httr2 wouldn’t possible without curl, openssl, jsonlite, jose, maintained Jeroen Ooms. big thanks also go Jenny Bryan Craig Citro given much useful feedback design internals user facing API.","code":""},{"path":"/reference/curl_translate.html","id":null,"dir":"Reference","previous_headings":"","what":"Translate curl syntax to httr2 — curl_translate","title":"Translate curl syntax to httr2 — curl_translate","text":"curl command line tool commonly demonstrate HTTP APIs can easily generated browser developer tools. curl_translate() saves pain manually translating calls implementing partial, frequently used, subset curl options. Use curl_help() see supported options, curl_translate() translate curl invocation copy pasted elsewhere. Inspired curlconverter written Bob Rudis.","code":""},{"path":"/reference/curl_translate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Translate curl syntax to httr2 — curl_translate","text":"","code":"curl_translate(cmd)  curl_help()"},{"path":"/reference/curl_translate.html","id":"pkg-arg-cmd","dir":"Reference","previous_headings":"","what":"cmd (argument)","title":"Translate curl syntax to httr2 — curl_translate","text":"cmd Call curl. omitted clipr package installed, retrieved clipboard.","code":""},{"path":"/reference/curl_translate.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Translate curl syntax to httr2 — curl_translate","text":"string containing translated httr2 code. input copied clipboard, translation copied back clipboard.","code":""},{"path":"/reference/httr2-package.html","id":null,"dir":"Reference","previous_headings":"","what":"httr2: Perform HTTP Requests and Process the Responses — httr2-package","title":"httr2: Perform HTTP Requests and Process the Responses — httr2-package","text":"httr2 modern re-imagining httr designed around     pipeable interface solving problems API wrappers     need.","code":""},{"path":"/reference/httr2-package.html","id":"section-author","dir":"Reference","previous_headings":"","what":"Author","title":"httr2: Perform HTTP Requests and Process the Responses — httr2-package","text":"Maintainer: Hadley Wickham hadley@rstudio.com contributors: RStudio [copyright holder, funder]","code":""},{"path":"/reference/jwt_claim.html","id":null,"dir":"Reference","previous_headings":"","what":"Create and encode a JWT — jwt_claim","title":"Create and encode a JWT — jwt_claim","text":"jwt_claim() wrapper around jose::jwt_claim() creates JWT claim set extra default values. jwt_encode_sig() jwt_encode_hmac() thin wrappers around jose::jwt_encode_sig() jose::jwt_encode_hmac() exist primarily make specification functions little simpler.","code":""},{"path":"/reference/jwt_claim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create and encode a JWT — jwt_claim","text":"","code":"jwt_claim(   iss = NULL,   sub = NULL,   aud = NULL,   exp = unix_time() + 5L * 60L,   nbf = unix_time(),   iat = unix_time(),   jti = NULL,   ... )  jwt_encode_sig(claim, key, size = 256, header = list())  jwt_encode_hmac(claim, secret, size = size, header = list())"},{"path":"/reference/jwt_claim.html","id":"pkg-arg-iss","dir":"Reference","previous_headings":"","what":"iss (argument)","title":"Create and encode a JWT — jwt_claim","text":"iss Issuer claim. Identifies principal issued JWT.","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-sub","dir":"Reference","previous_headings":"","what":"sub (argument)","title":"Create and encode a JWT — jwt_claim","text":"sub Subject claim. Identifies principal subject JWT (.e. entity claims apply ).","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-aud","dir":"Reference","previous_headings":"","what":"aud (argument)","title":"Create and encode a JWT — jwt_claim","text":"aud Audience claim. Identifies recipients JWT intended. principle intended process JWT must identifid unique value.","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-exp","dir":"Reference","previous_headings":"","what":"exp (argument)","title":"Create and encode a JWT — jwt_claim","text":"exp Expiration claim. Identifies expiration time JWT MUST accepted processing. Defaults 5 minutes.","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-nbf","dir":"Reference","previous_headings":"","what":"nbf (argument)","title":"Create and encode a JWT — jwt_claim","text":"nbf claim. Identifies time JWT MUST accepted processing. Defaults current time.","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-iat","dir":"Reference","previous_headings":"","what":"iat (argument)","title":"Create and encode a JWT — jwt_claim","text":"iat Issued claim. Identifies time JWT issued.  Defaults current time.","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-jti","dir":"Reference","previous_headings":"","what":"jti (argument)","title":"Create and encode a JWT — jwt_claim","text":"jti JWT ID claim. Provides unique identifier JWT. omitted, uses random 32-byte sequence encoded base64url.","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-...","dir":"Reference","previous_headings":"","what":"... (argument)","title":"Create and encode a JWT — jwt_claim","text":"... additional claims include claim set.","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-claim","dir":"Reference","previous_headings":"","what":"claim (argument)","title":"Create and encode a JWT — jwt_claim","text":"claim Claim set produced jwt_claim().","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-key","dir":"Reference","previous_headings":"","what":"key (argument)","title":"Create and encode a JWT — jwt_claim","text":"key RSA EC private key either specified path file, connection, string (PEM/SSH format), raw vector (DER format).","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-size","dir":"Reference","previous_headings":"","what":"size (argument)","title":"Create and encode a JWT — jwt_claim","text":"size Size, bits, sha2 signature, .e. 256, 384 512. HMAC/RSA, applicable ECDSA keys.","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-header","dir":"Reference","previous_headings":"","what":"header (argument)","title":"Create and encode a JWT — jwt_claim","text":"header named list giving additional fields include JWT header.","code":""},{"path":"/reference/jwt_claim.html","id":"pkg-arg-secret","dir":"Reference","previous_headings":"","what":"secret (argument)","title":"Create and encode a JWT — jwt_claim","text":"secret String raw vector secret passphrase.","code":""},{"path":"/reference/last_response.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve most recent request/response — last_response","title":"Retrieve most recent request/response — last_response","text":"functions retrieve recent request made httr2 response received, facilitate debugging problems occur. request succeed (requests made) last_response() NULL.","code":""},{"path":"/reference/last_response.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve most recent request/response — last_response","text":"","code":"last_response()  last_request()"},{"path":"/reference/multi_req_perform.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform multiple requests in parallel — multi_req_perform","title":"Perform multiple requests in parallel — multi_req_perform","text":"variation req_perform() performs multiple requests parallel. Unlike req_perform() always succeeds; never throw error. Instead return error objects, responsibility handle. Exercise caution using function; easy pummel server many simultaneous requests. use hosts designed serve many files .","code":""},{"path":"/reference/multi_req_perform.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform multiple requests in parallel — multi_req_perform","text":"","code":"multi_req_perform(reqs, paths = NULL, pool = NULL, cancel_on_error = FALSE)"},{"path":"/reference/multi_req_perform.html","id":"pkg-arg-reqs","dir":"Reference","previous_headings":"","what":"reqs (argument)","title":"Perform multiple requests in parallel — multi_req_perform","text":"reqs list requests.","code":""},{"path":"/reference/multi_req_perform.html","id":"pkg-arg-paths","dir":"Reference","previous_headings":"","what":"paths (argument)","title":"Perform multiple requests in parallel — multi_req_perform","text":"paths optional list paths, want download request bodies disks. supplied, must length reqs.","code":""},{"path":"/reference/multi_req_perform.html","id":"pkg-arg-pool","dir":"Reference","previous_headings":"","what":"pool (argument)","title":"Perform multiple requests in parallel — multi_req_perform","text":"pool Optionally, curl pool made curl::new_pool(). Supply want override defaults total concurrent connections (100) concurrent connections per host (6).","code":""},{"path":"/reference/multi_req_perform.html","id":"pkg-arg-cancel_on_error","dir":"Reference","previous_headings":"","what":"cancel_on_error (argument)","title":"Perform multiple requests in parallel — multi_req_perform","text":"cancel_on_error pending requests cancelled hit error. Set TRUE stop requests soon hit error. Responses never performed class httr2_cancelled result.","code":""},{"path":"/reference/multi_req_perform.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform multiple requests in parallel — multi_req_perform","text":"list length reqs element either response error.","code":""},{"path":"/reference/multi_req_perform.html","id":"section-limitations","dir":"Reference","previous_headings":"","what":"Limitations","title":"Perform multiple requests in parallel — multi_req_perform","text":"retrieve new OAuth token expires part way requests. perform throttling req_throttle(). attempt retries described req_retry(). Consults cache set req_cache() /requests. general, req_perform() might make multiple requests due retries OAuth failures, multi_req_perform() make make 1.","code":""},{"path":"/reference/oauth_client.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an OAuth client — oauth_client","title":"Create an OAuth client — oauth_client","text":"OAuth app combination client, set endpoints (.e. urls various requests sent), authentication mechanism. client consists least client_id, also often client_secret. get values create client API's website.","code":""},{"path":"/reference/oauth_client.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an OAuth client — oauth_client","text":"","code":"oauth_client(   id,   token_url,   secret = NULL,   key = NULL,   auth = c(\"body\", \"header\", \"jwt_sig\"),   auth_params = list(),   name = hash(id) )"},{"path":"/reference/oauth_client.html","id":"pkg-arg-id","dir":"Reference","previous_headings":"","what":"id (argument)","title":"Create an OAuth client — oauth_client","text":"id Client identifier.","code":""},{"path":"/reference/oauth_client.html","id":"pkg-arg-token_url","dir":"Reference","previous_headings":"","what":"token_url (argument)","title":"Create an OAuth client — oauth_client","text":"token_url Url retrieve access token.","code":""},{"path":"/reference/oauth_client.html","id":"pkg-arg-secret","dir":"Reference","previous_headings":"","what":"secret (argument)","title":"Create an OAuth client — oauth_client","text":"secret Client secret. apps, technically confidential principle avoid storing source code. However, many APIs require order provide user friendly authentication experience, risks including usually low. make things little safer, recommend using obfuscate() recorded client secret public code.","code":""},{"path":"/reference/oauth_client.html","id":"pkg-arg-key","dir":"Reference","previous_headings":"","what":"key (argument)","title":"Create an OAuth client — oauth_client","text":"key Client key. alternative using secret, can instead supply confidential private key. never included package.","code":""},{"path":"/reference/oauth_client.html","id":"pkg-arg-auth","dir":"Reference","previous_headings":"","what":"auth (argument)","title":"Create an OAuth client — oauth_client","text":"auth Authentication mechanism used client prove API. Can one three built-methods (\"body\", \"header\", \"jwt\"), function called arguments req, client, contents auth_params. common mechanism wild \"body\" client_id (optionally) client_secret added body. \"header\" sends client_id client_secret HTTP Authorization header. \"jwt_sig\" generate JWT, include client_assertion field body. See oauth_client_req_auth() details.","code":""},{"path":"/reference/oauth_client.html","id":"pkg-arg-auth_params","dir":"Reference","previous_headings":"","what":"auth_params (argument)","title":"Create an OAuth client — oauth_client","text":"auth_params Additional parameters passed function specified auth.","code":""},{"path":"/reference/oauth_client.html","id":"pkg-arg-name","dir":"Reference","previous_headings":"","what":"name (argument)","title":"Create an OAuth client — oauth_client","text":"name Optional name client. Used generating cache directory. NULL, generated hash client_id. defining package use package, recommend use package name.","code":""},{"path":"/reference/oauth_client_req_auth.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth client authentication — oauth_client_req_auth","title":"OAuth client authentication — oauth_client_req_auth","text":"oauth_client_req_auth() authenticates request using authentication strategy defined auth auth_param arguments oauth_client(). used authenticate client part OAuth flow, authenticate request behalf user. three built-strategies: oauth_client_req_body() adds client id (optionally) secret request body, described rfc6749, Section 2.3.1. oauth_client_req_header() adds client id secret using HTTP basic authentication Authorization header, described rfc6749, Section 2.3.1. oauth_client_jwt_rs256() adds client assertion body using JWT signed jwt_sign_rs256() using private key, described rfc7523, Section 2.2. generally call functions directly instead specify auth argument oauth_client(). req client parameters automatically filled ; parameters come auth_params argument.","code":""},{"path":"/reference/oauth_client_req_auth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth client authentication — oauth_client_req_auth","text":"","code":"oauth_client_req_auth(req, client)  oauth_client_req_auth_header(req, client)  oauth_client_req_auth_body(req, client)  oauth_client_req_auth_jwt_sig(req, client, claim, size = 256, header = list())"},{"path":"/reference/oauth_client_req_auth.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"OAuth client authentication — oauth_client_req_auth","text":"req request.","code":""},{"path":"/reference/oauth_client_req_auth.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth client authentication — oauth_client_req_auth","text":"client oauth_client.","code":""},{"path":"/reference/oauth_client_req_auth.html","id":"pkg-arg-claim","dir":"Reference","previous_headings":"","what":"claim (argument)","title":"OAuth client authentication — oauth_client_req_auth","text":"claim Claim set produced jwt_claim().","code":""},{"path":"/reference/oauth_client_req_auth.html","id":"pkg-arg-size","dir":"Reference","previous_headings":"","what":"size (argument)","title":"OAuth client authentication — oauth_client_req_auth","text":"size Size, bits, sha2 signature, .e. 256, 384 512. HMAC/RSA, applicable ECDSA keys.","code":""},{"path":"/reference/oauth_client_req_auth.html","id":"pkg-arg-header","dir":"Reference","previous_headings":"","what":"header (argument)","title":"OAuth client authentication — oauth_client_req_auth","text":"header named list giving additional fields include JWT header.","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth flow: authorization code — oauth_flow_auth_code","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"functions implement OAuth authorization code flow, defined rfc6749, Section 4.1. commonly used OAuth flow user opens page browser, approves access, returns R. oauth_flow_auth_code() high-level wrapper work APIs adhere relatively closely spec. remaining low-level functions can used assemble custom flow APIs spec: oauth_flow_auth_code_url() generates url user sent. oauth_flow_auth_code_listen() starts webserver listens response resource server. oauth_flow_auth_code_parse() parses query parameters returned server redirect, verifying state correct, returning authorisation code. oauth_flow_auth_code_pkce() generates code verifier, method, challenge components needed PKCE, defined rfc7636.","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"","code":"oauth_flow_auth_code(   client,   auth_url,   scope = NULL,   pkce = TRUE,   auth_params = list(),   token_params = list(),   host_name = \"localhost\",   host_ip = \"127.0.0.1\",   port = httpuv::randomPort() )  oauth_flow_auth_code_url(   client,   auth_url,   redirect_uri = NULL,   scope = NULL,   state = NULL,   auth_params = list() )  oauth_flow_auth_code_listen(host_ip = \"127.0.0.1\", port = 1410)  oauth_flow_auth_code_parse(query, state)  oauth_flow_auth_code_pkce()"},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"client oauth_client().","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-auth_url","dir":"Reference","previous_headings":"","what":"auth_url (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"auth_url Authorization url; need discover reading documentation.","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-pkce","dir":"Reference","previous_headings":"","what":"pkce (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"pkce Use \"Proof Key Code Exchange\"? adds extra layer security always used supported server.","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-auth_params","dir":"Reference","previous_headings":"","what":"auth_params (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"auth_params List containing additional parameters passed oauth_flow_auth_code_url()","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-host_name","dir":"Reference","previous_headings":"","what":"host_name (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"host_name Host name used generate redirect_uri","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-host_ip","dir":"Reference","previous_headings":"","what":"host_ip (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"host_ip IP address web server bound .","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-port","dir":"Reference","previous_headings":"","what":"port (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"port Port bind web server . default, uses random port. may need set fixed port API requires redirect_uri specified client exactly matches redirect_uri generated function.","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-redirect_uri","dir":"Reference","previous_headings":"","what":"redirect_uri (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"redirect_uri URL user redirected.","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-state","dir":"Reference","previous_headings":"","what":"state (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"state Random state generated oauth_flow_auth_code(). Used verify working authentication request created. (unlikely threat R packages since webserver listens authorization responses transient.)","code":""},{"path":"/reference/oauth_flow_auth_code.html","id":"pkg-arg-query","dir":"Reference","previous_headings":"","what":"query (argument)","title":"OAuth flow: authorization code — oauth_flow_auth_code","text":"query List query parameters returned oauth_flow_auth_code_listen().","code":""},{"path":"/reference/oauth_flow_bearer_jwt.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth flow: Bearer JWT — oauth_flow_bearer_jwt","title":"OAuth flow: Bearer JWT — oauth_flow_bearer_jwt","text":"function uses Bearer JWT authorization grant get access token, defined rfc7523, Section 2.1. often used service accounts, accounts used primarily automated environments.","code":""},{"path":"/reference/oauth_flow_bearer_jwt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth flow: Bearer JWT — oauth_flow_bearer_jwt","text":"","code":"oauth_flow_bearer_jwt(   client,   claim,   signature = \"jwt_encode_sig\",   signature_params = list(),   scope = NULL,   token_params = list() )"},{"path":"/reference/oauth_flow_bearer_jwt.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth flow: Bearer JWT — oauth_flow_bearer_jwt","text":"client oauth_client().","code":""},{"path":"/reference/oauth_flow_bearer_jwt.html","id":"pkg-arg-claim","dir":"Reference","previous_headings":"","what":"claim (argument)","title":"OAuth flow: Bearer JWT — oauth_flow_bearer_jwt","text":"claim list claims. elements claim set static apart iat, nbf, exp, jti, provide list jwt_claim() automatically fill dynamic components. components need vary, can instead provide zero-argument callback function call jwt_claim().","code":""},{"path":"/reference/oauth_flow_bearer_jwt.html","id":"pkg-arg-signature","dir":"Reference","previous_headings":"","what":"signature (argument)","title":"OAuth flow: Bearer JWT — oauth_flow_bearer_jwt","text":"signature Function use sign claim, e.g. jwt_encode_sig().","code":""},{"path":"/reference/oauth_flow_bearer_jwt.html","id":"pkg-arg-signature_params","dir":"Reference","previous_headings":"","what":"signature_params (argument)","title":"OAuth flow: Bearer JWT — oauth_flow_bearer_jwt","text":"signature_params Additional arguments passed signature, e.g. size, header.","code":""},{"path":"/reference/oauth_flow_bearer_jwt.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth flow: Bearer JWT — oauth_flow_bearer_jwt","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/oauth_flow_bearer_jwt.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth flow: Bearer JWT — oauth_flow_bearer_jwt","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/oauth_flow_client_credentials.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth flow: client credentials — oauth_flow_client_credentials","title":"OAuth flow: client credentials — oauth_flow_client_credentials","text":"function implements OAuth client credentials flow, defined rfc6749, Section 4.4. used allow client access resources controls directly, behalf user.","code":""},{"path":"/reference/oauth_flow_client_credentials.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth flow: client credentials — oauth_flow_client_credentials","text":"","code":"oauth_flow_client_credentials(client, scope = NULL, token_params = list())"},{"path":"/reference/oauth_flow_client_credentials.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth flow: client credentials — oauth_flow_client_credentials","text":"client oauth_client().","code":""},{"path":"/reference/oauth_flow_client_credentials.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth flow: client credentials — oauth_flow_client_credentials","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/oauth_flow_client_credentials.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth flow: client credentials — oauth_flow_client_credentials","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/oauth_flow_device.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth flow: device — oauth_flow_device","title":"OAuth flow: device — oauth_flow_device","text":"functions implement OAuth device flow, defined rfc8628. designed devices access web browser (ever authenticated app TV, probably flow used), also works well within R.","code":""},{"path":"/reference/oauth_flow_device.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth flow: device — oauth_flow_device","text":"","code":"oauth_flow_device(   client,   auth_url,   scope = NULL,   auth_params = list(),   token_params = list() )"},{"path":"/reference/oauth_flow_device.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth flow: device — oauth_flow_device","text":"client oauth_client().","code":""},{"path":"/reference/oauth_flow_device.html","id":"pkg-arg-auth_url","dir":"Reference","previous_headings":"","what":"auth_url (argument)","title":"OAuth flow: device — oauth_flow_device","text":"auth_url Authorization url; need discover reading documentation.","code":""},{"path":"/reference/oauth_flow_device.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth flow: device — oauth_flow_device","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/oauth_flow_device.html","id":"pkg-arg-auth_params","dir":"Reference","previous_headings":"","what":"auth_params (argument)","title":"OAuth flow: device — oauth_flow_device","text":"auth_params List containing additional parameters passed oauth_flow_auth_code_url()","code":""},{"path":"/reference/oauth_flow_device.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth flow: device — oauth_flow_device","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/oauth_flow_password.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth flow: user password — oauth_flow_password","title":"OAuth flow: user password — oauth_flow_password","text":"function implements OAuth resource owner password flow, defined rfc6749, Section 4.3. allows user supply password , exchanging access token can cached locally.","code":""},{"path":"/reference/oauth_flow_password.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth flow: user password — oauth_flow_password","text":"","code":"oauth_flow_password(   client,   username,   password = NULL,   scope = NULL,   token_params = list() )"},{"path":"/reference/oauth_flow_password.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth flow: user password — oauth_flow_password","text":"client oauth_client().","code":""},{"path":"/reference/oauth_flow_password.html","id":"pkg-arg-username","dir":"Reference","previous_headings":"","what":"username (argument)","title":"OAuth flow: user password — oauth_flow_password","text":"username User name.","code":""},{"path":"/reference/oauth_flow_password.html","id":"pkg-arg-password","dir":"Reference","previous_headings":"","what":"password (argument)","title":"OAuth flow: user password — oauth_flow_password","text":"password Password. avoid entering password directly calling function captured .Rhistory. Instead, leave unset default behaviour prompt interactively.","code":""},{"path":"/reference/oauth_flow_password.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth flow: user password — oauth_flow_password","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/oauth_flow_password.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth flow: user password — oauth_flow_password","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/oauth_flow_refresh.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth flow: refresh token — oauth_flow_refresh","title":"OAuth flow: refresh token — oauth_flow_refresh","text":"function generates access token refresh token, following process described rfc6749, Section 6. Errors refresh returns new refresh token, see req_oauth_refresh() details.","code":""},{"path":"/reference/oauth_flow_refresh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth flow: refresh token — oauth_flow_refresh","text":"","code":"oauth_flow_refresh(   client,   refresh_token = Sys.getenv(\"HTTR_REFRESH_TOKEN\"),   scope = NULL,   token_params = list() )"},{"path":"/reference/oauth_flow_refresh.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth flow: refresh token — oauth_flow_refresh","text":"client oauth_client().","code":""},{"path":"/reference/oauth_flow_refresh.html","id":"pkg-arg-refresh_token","dir":"Reference","previous_headings":"","what":"refresh_token (argument)","title":"OAuth flow: refresh token — oauth_flow_refresh","text":"refresh_token refresh token. equivalent password typed console stored script. Instead, recommend placing environment variable; default behaviour look HTTR_REFRESH_TOKEN.","code":""},{"path":"/reference/oauth_flow_refresh.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth flow: refresh token — oauth_flow_refresh","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/oauth_flow_refresh.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth flow: refresh token — oauth_flow_refresh","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/oauth_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an OAuth token — oauth_token","title":"Create an OAuth token — oauth_token","text":"Creates S3 object class <httr2_token> representing OAuth token returned access token endpoint.","code":""},{"path":"/reference/oauth_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an OAuth token — oauth_token","text":"","code":"oauth_token(   access_token,   token_type = \"bearer\",   expires_in = NULL,   refresh_token = NULL,   ...,   .date = Sys.time() )"},{"path":"/reference/oauth_token.html","id":"pkg-arg-access_token","dir":"Reference","previous_headings":"","what":"access_token (argument)","title":"Create an OAuth token — oauth_token","text":"access_token access token used authenticate request","code":""},{"path":"/reference/oauth_token.html","id":"pkg-arg-token_type","dir":"Reference","previous_headings":"","what":"token_type (argument)","title":"Create an OAuth token — oauth_token","text":"token_type Type token; \"bearer\" currently supported.","code":""},{"path":"/reference/oauth_token.html","id":"pkg-arg-expires_in","dir":"Reference","previous_headings":"","what":"expires_in (argument)","title":"Create an OAuth token — oauth_token","text":"expires_in Number seconds token expires.","code":""},{"path":"/reference/oauth_token.html","id":"pkg-arg-refresh_token","dir":"Reference","previous_headings":"","what":"refresh_token (argument)","title":"Create an OAuth token — oauth_token","text":"refresh_token Optional refresh token; supplied, can used cheaply get new access token one expires.","code":""},{"path":"/reference/oauth_token.html","id":"pkg-arg-...","dir":"Reference","previous_headings":"","what":"... (argument)","title":"Create an OAuth token — oauth_token","text":"... Additional components returned endpoint","code":""},{"path":"/reference/oauth_token.html","id":"pkg-arg-.date","dir":"Reference","previous_headings":"","what":".date (argument)","title":"Create an OAuth token — oauth_token","text":".date Date request made; used convert relative expires_in absolute expires_at.","code":""},{"path":"/reference/obfuscate.html","id":null,"dir":"Reference","previous_headings":"","what":"Obfuscate mildly secret information — obfuscate","title":"Obfuscate mildly secret information — obfuscate","text":"pair functions provides way obfuscate mildly confidential information, like OAuth client secrets. secret can revealed source code, good R programmer still figure little effort. main goal protect scraping; way automated tool grab obfuscated secrets. un-obfuscation happens last possible instant, obfuscated() works limited locations: secret argument oauth_client() Elements data argument req_body_form(), req_body_json(), req_body_multipart().","code":""},{"path":"/reference/obfuscate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Obfuscate mildly secret information — obfuscate","text":"","code":"obfuscate(x)  obfuscated(x)"},{"path":"/reference/obfuscate.html","id":"pkg-arg-x","dir":"Reference","previous_headings":"","what":"x (argument)","title":"Obfuscate mildly secret information — obfuscate","text":"x string obfuscate, mark obfuscated.","code":""},{"path":"/reference/obfuscate.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Obfuscate mildly secret information — obfuscate","text":"obfuscate() prints obfuscated() call include code. obfuscated() returns S3 class marking string obfuscated can unobfuscated needed.","code":""},{"path":"/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"/reference/pipe.html","id":"pkg-arg-lhs","dir":"Reference","previous_headings":"","what":"lhs (argument)","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder.","code":""},{"path":"/reference/pipe.html","id":"pkg-arg-rhs","dir":"Reference","previous_headings":"","what":"rhs (argument)","title":"Pipe operator — %>%","text":"rhs function call using magrittr semantics.","code":""},{"path":"/reference/pipe.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"/reference/req_auth_basic.html","id":null,"dir":"Reference","previous_headings":"","what":"Authenticate request with HTTP basic authentication — req_auth_basic","title":"Authenticate request with HTTP basic authentication — req_auth_basic","text":"sets Authorization header. See details https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization.","code":""},{"path":"/reference/req_auth_basic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Authenticate request with HTTP basic authentication — req_auth_basic","text":"","code":"req_auth_basic(req, username, password = NULL)"},{"path":"/reference/req_auth_basic.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Authenticate request with HTTP basic authentication — req_auth_basic","text":"req request.","code":""},{"path":"/reference/req_auth_basic.html","id":"pkg-arg-username","dir":"Reference","previous_headings":"","what":"username (argument)","title":"Authenticate request with HTTP basic authentication — req_auth_basic","text":"username User name.","code":""},{"path":"/reference/req_auth_basic.html","id":"pkg-arg-password","dir":"Reference","previous_headings":"","what":"password (argument)","title":"Authenticate request with HTTP basic authentication — req_auth_basic","text":"password Password. avoid entering password directly calling function captured .Rhistory. Instead, leave unset default behaviour prompt interactively.","code":""},{"path":"/reference/req_auth_bearer_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Authenticate request with bearer token — req_auth_bearer_token","title":"Authenticate request with bearer token — req_auth_bearer_token","text":"bearer token gives bearer access confidential resources (keep secure like user name password). usually produced large authentication scheme (like various OAuth 2.0 flows), sometimes given directly.","code":""},{"path":"/reference/req_auth_bearer_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Authenticate request with bearer token — req_auth_bearer_token","text":"","code":"req_auth_bearer_token(req, token)"},{"path":"/reference/req_auth_bearer_token.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Authenticate request with bearer token — req_auth_bearer_token","text":"req request.","code":""},{"path":"/reference/req_auth_bearer_token.html","id":"pkg-arg-token","dir":"Reference","previous_headings":"","what":"token (argument)","title":"Authenticate request with bearer token — req_auth_bearer_token","text":"token bearer token","code":""},{"path":"/reference/req_body.html","id":null,"dir":"Reference","previous_headings":"","what":"Send data in request body — req_body","title":"Send data in request body — req_body","text":"req_body_file() sends local file. req_body_raw() sends string raw vector. req_body_json() sends JSON encoded data. req_body_form() sends form encoded data. req_body_multipart() creates multi-part body. Adding body request automatically switch method POST.","code":""},{"path":"/reference/req_body.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Send data in request body — req_body","text":"","code":"req_body_raw(req, body, type = NULL)  req_body_file(req, path, type = NULL)  req_body_json(req, data, auto_unbox = TRUE, digits = 22, null = \"null\", ...)  req_body_form(req, data)  req_body_multipart(req, data)"},{"path":"/reference/req_body.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Send data in request body — req_body","text":"req request.","code":""},{"path":"/reference/req_body.html","id":"pkg-arg-body","dir":"Reference","previous_headings":"","what":"body (argument)","title":"Send data in request body — req_body","text":"body literal string raw vector send body.","code":""},{"path":"/reference/req_body.html","id":"pkg-arg-type","dir":"Reference","previous_headings":"","what":"type (argument)","title":"Send data in request body — req_body","text":"type Content type. req_body_file(), default attempt guess extension path.","code":""},{"path":"/reference/req_body.html","id":"pkg-arg-path","dir":"Reference","previous_headings":"","what":"path (argument)","title":"Send data in request body — req_body","text":"path Path file upload.","code":""},{"path":"/reference/req_body.html","id":"pkg-arg-data","dir":"Reference","previous_headings":"","what":"data (argument)","title":"Send data in request body — req_body","text":"data Data include body. req_body_json() can R data structure can serialised JSON, req_body_form() named list simple values, req_body_multipart() named list containing strings objects produced curl::form_file()/curl::form_data().","code":""},{"path":"/reference/req_body.html","id":"pkg-arg-auto_unbox","dir":"Reference","previous_headings":"","what":"auto_unbox (argument)","title":"Send data in request body — req_body","text":"auto_unbox length-1 vectors automatically \"unboxed\" JSON scalars?","code":""},{"path":"/reference/req_body.html","id":"pkg-arg-digits","dir":"Reference","previous_headings":"","what":"digits (argument)","title":"Send data in request body — req_body","text":"digits many digits precision numbers use JSON?","code":""},{"path":"/reference/req_body.html","id":"pkg-arg-null","dir":"Reference","previous_headings":"","what":"null (argument)","title":"Send data in request body — req_body","text":"null NULL translated JSON's null (\"null\") empty list (\"list\").","code":""},{"path":"/reference/req_body.html","id":"pkg-arg-...","dir":"Reference","previous_headings":"","what":"... (argument)","title":"Send data in request body — req_body","text":"... arguments passed jsonlite::toJSON().","code":""},{"path":"/reference/req_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Automatically cache requests — req_cache","title":"Automatically cache requests — req_cache","text":"Use req_perform() automatically cache HTTP requests. API requests cacheable, possible (often downloading larger files) can make big difference. req_cache() caches responses GET requests status code 200 least one standard caching headers (e.g. Expires, Etag, Last-Modified, Cache-Control), unless caching expressly prohibited Cache-Control: -store. Typically, request still sent server check cached value still --date, need re-download body value. learn HTTP caching, recommend MDN article HTTP caching.","code":""},{"path":"/reference/req_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Automatically cache requests — req_cache","text":"","code":"req_cache(req, path, use_on_error = FALSE, debug = FALSE)"},{"path":"/reference/req_cache.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Automatically cache requests — req_cache","text":"req request.","code":""},{"path":"/reference/req_cache.html","id":"pkg-arg-path","dir":"Reference","previous_headings":"","what":"path (argument)","title":"Automatically cache requests — req_cache","text":"path Path cache directory","code":""},{"path":"/reference/req_cache.html","id":"pkg-arg-use_on_error","dir":"Reference","previous_headings":"","what":"use_on_error (argument)","title":"Automatically cache requests — req_cache","text":"use_on_error request errors, cache response, req_perform() return instead generating error?","code":""},{"path":"/reference/req_cache.html","id":"pkg-arg-debug","dir":"Reference","previous_headings":"","what":"debug (argument)","title":"Automatically cache requests — req_cache","text":"debug TRUE emit useful messages telling cache hits misses. can helpful understand whether caching actually anything use case.","code":""},{"path":"/reference/req_dry_run.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform a dry run — req_dry_run","title":"Perform a dry run — req_dry_run","text":"shows exactly httr2 send server, without actually sending anything. requires httpuv package works sending real HTTP request local webserver, thanks magic curl::curl_echo().","code":""},{"path":"/reference/req_dry_run.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform a dry run — req_dry_run","text":"","code":"req_dry_run(req, quiet = FALSE, redact_headers = TRUE)"},{"path":"/reference/req_dry_run.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Perform a dry run — req_dry_run","text":"req request.","code":""},{"path":"/reference/req_dry_run.html","id":"pkg-arg-quiet","dir":"Reference","previous_headings":"","what":"quiet (argument)","title":"Perform a dry run — req_dry_run","text":"quiet TRUE print anything.","code":""},{"path":"/reference/req_dry_run.html","id":"pkg-arg-redact_headers","dir":"Reference","previous_headings":"","what":"redact_headers (argument)","title":"Perform a dry run — req_dry_run","text":"redact_headers Redact confidential data headers? Currently redacts contents Authorization header prevent accidentally leaking credentials debugging/reprexing.","code":""},{"path":"/reference/req_dry_run.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform a dry run — req_dry_run","text":"Invisibly, list containing information request, including method, path, headers.","code":""},{"path":"/reference/req_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Control handling of HTTP errors — req_error","title":"Control handling of HTTP errors — req_error","text":"req_perform() automatically convert HTTP errors (.e. 4xx 5xx status code) R errors. Use req_perform() either override defaults, extract additional information response useful expose user.","code":""},{"path":"/reference/req_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Control handling of HTTP errors — req_error","text":"","code":"req_error(req, is_error = NULL, info = NULL)"},{"path":"/reference/req_error.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Control handling of HTTP errors — req_error","text":"req request.","code":""},{"path":"/reference/req_error.html","id":"pkg-arg-is_error","dir":"Reference","previous_headings":"","what":"is_error (argument)","title":"Control handling of HTTP errors — req_error","text":"is_error predicate function takes single argument (response) returns TRUE FALSE indicating whether R error signalled.","code":""},{"path":"/reference/req_error.html","id":"pkg-arg-info","dir":"Reference","previous_headings":"","what":"info (argument)","title":"Control handling of HTTP errors — req_error","text":"info callback function takes single argument (response) returns character vector additional information error. vector passed along message argument rlang::abort() can use formatting supports.","code":""},{"path":"/reference/req_error.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Control handling of HTTP errors — req_error","text":"HTTP request.","code":""},{"path":"/reference/req_headers.html","id":null,"dir":"Reference","previous_headings":"","what":"Modify request headers — req_headers","title":"Modify request headers — req_headers","text":"req_headers() allows set value header.","code":""},{"path":"/reference/req_headers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modify request headers — req_headers","text":"","code":"req_headers(.req, ...)"},{"path":"/reference/req_headers.html","id":"pkg-arg-.req","dir":"Reference","previous_headings":"","what":".req (argument)","title":"Modify request headers — req_headers","text":".req request.","code":""},{"path":"/reference/req_headers.html","id":"pkg-arg-...","dir":"Reference","previous_headings":"","what":"... (argument)","title":"Modify request headers — req_headers","text":"... Name-value pairs headers values.Use NULL reset value httr's default Use \"\" remove header Use character vector repeat header.","code":""},{"path":"/reference/req_method.html","id":null,"dir":"Reference","previous_headings":"","what":"Set HTTP method — req_method","title":"Set HTTP method — req_method","text":"Use function use custom HTTP method like \"HEAD\", \"DELETE\", \"PATCH\", \"UPDATE\", \"OPTIONS\".","code":""},{"path":"/reference/req_method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set HTTP method — req_method","text":"","code":"req_method(req, method)"},{"path":"/reference/req_method.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Set HTTP method — req_method","text":"req request.","code":""},{"path":"/reference/req_method.html","id":"pkg-arg-method","dir":"Reference","previous_headings":"","what":"method (argument)","title":"Set HTTP method — req_method","text":"method Custom HTTP method","code":""},{"path":"/reference/req_oauth.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth authentication — req_oauth","title":"OAuth authentication — req_oauth","text":"low-level helper automatically authenticating request OAuth flow, caching access token refreshing possible. need use function implementing OAuth flow.","code":""},{"path":"/reference/req_oauth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth authentication — req_oauth","text":"","code":"req_oauth(req, flow, flow_params, cache)"},{"path":"/reference/req_oauth.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"OAuth authentication — req_oauth","text":"req request.","code":""},{"path":"/reference/req_oauth.html","id":"pkg-arg-flow","dir":"Reference","previous_headings":"","what":"flow (argument)","title":"OAuth authentication — req_oauth","text":"flow Function used generate access token.","code":""},{"path":"/reference/req_oauth.html","id":"pkg-arg-flow_params","dir":"Reference","previous_headings":"","what":"flow_params (argument)","title":"OAuth authentication — req_oauth","text":"flow_params List parameters call flow .","code":""},{"path":"/reference/req_oauth.html","id":"pkg-arg-cache","dir":"Reference","previous_headings":"","what":"cache (argument)","title":"OAuth authentication — req_oauth","text":"cache object controls token cached. list containing three functions:get() retrieves token cache, returning NULL cached yet. set() saves token cache. clear() removes token cache","code":""},{"path":"/reference/req_oauth_auth_code.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth authentication with authorization code — req_oauth_auth_code","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"uses oauth_flow_auth_code() generate access token, used authentication request req_auth_bearer_token(). token automatically cached (either memory disk) minimise number times flow performed.","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"","code":"req_oauth_auth_code(   req,   client,   auth_url,   cache_disk = FALSE,   cache_key = NULL,   scope = NULL,   pkce = TRUE,   auth_params = list(),   token_params = list(),   host_name = \"localhost\",   host_ip = \"127.0.0.1\",   port = httpuv::randomPort() )"},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"req request.","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"client oauth_client().","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-auth_url","dir":"Reference","previous_headings":"","what":"auth_url (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"auth_url Authorization url; need discover reading documentation.","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-cache_disk","dir":"Reference","previous_headings":"","what":"cache_disk (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"cache_disk access token cached disk? reduces number times need re-authenticate cost storing access credentials disk. Cached tokens automatically deleted 30 days creation.","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-cache_key","dir":"Reference","previous_headings":"","what":"cache_key (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"cache_key want cache multiple tokens per app, use key disambiguate .","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-pkce","dir":"Reference","previous_headings":"","what":"pkce (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"pkce Use \"Proof Key Code Exchange\"? adds extra layer security always used supported server.","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-auth_params","dir":"Reference","previous_headings":"","what":"auth_params (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"auth_params List containing additional parameters passed oauth_flow_auth_code_url()","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-host_name","dir":"Reference","previous_headings":"","what":"host_name (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"host_name Host name used generate redirect_uri","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-host_ip","dir":"Reference","previous_headings":"","what":"host_ip (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"host_ip IP address web server bound .","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"pkg-arg-port","dir":"Reference","previous_headings":"","what":"port (argument)","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"port Port bind web server . default, uses random port. may need set fixed port API requires redirect_uri specified client exactly matches redirect_uri generated function.","code":""},{"path":"/reference/req_oauth_auth_code.html","id":"section-security-considerations","dir":"Reference","previous_headings":"","what":"Security considerations","title":"OAuth authentication with authorization code — req_oauth_auth_code","text":"authorization code flow used web applications native applications (equivalent R packages). rfc8252 spells important considerations native apps. importantly way native apps keep secrets users. means server either require client_secret (.e. public client confidential client) ensure possession client_secret bestow meaningful rights. modern APIs bigger players (Azure, Google, etc) explicitly native apps. However, cases, even older APIs, possessing client_secret gives ability anything harmful, general principle fine include R package, long mildly obfuscated protect credential scraping. incentive steal client credentials takes less time create new client find client secret.","code":""},{"path":"/reference/req_oauth_bearer_jwt.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth authentication with a bearer JWT — req_oauth_bearer_jwt","title":"OAuth authentication with a bearer JWT — req_oauth_bearer_jwt","text":"uses oauth_flow_bearer_jwt() generate access token used authenticate request req_auth_bearer_token(). token cached memory.","code":""},{"path":"/reference/req_oauth_bearer_jwt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth authentication with a bearer JWT — req_oauth_bearer_jwt","text":"","code":"req_oauth_bearer_jwt(   req,   client,   claim,   signature = \"jwt_encode_sig\",   signature_params = list(),   scope = NULL,   token_params = list() )"},{"path":"/reference/req_oauth_bearer_jwt.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"OAuth authentication with a bearer JWT — req_oauth_bearer_jwt","text":"req request.","code":""},{"path":"/reference/req_oauth_bearer_jwt.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth authentication with a bearer JWT — req_oauth_bearer_jwt","text":"client oauth_client().","code":""},{"path":"/reference/req_oauth_bearer_jwt.html","id":"pkg-arg-claim","dir":"Reference","previous_headings":"","what":"claim (argument)","title":"OAuth authentication with a bearer JWT — req_oauth_bearer_jwt","text":"claim list claims. elements claim set static apart iat, nbf, exp, jti, provide list jwt_claim() automatically fill dynamic components. components need vary, can instead provide zero-argument callback function call jwt_claim().","code":""},{"path":"/reference/req_oauth_bearer_jwt.html","id":"pkg-arg-signature","dir":"Reference","previous_headings":"","what":"signature (argument)","title":"OAuth authentication with a bearer JWT — req_oauth_bearer_jwt","text":"signature Function use sign claim, e.g. jwt_encode_sig().","code":""},{"path":"/reference/req_oauth_bearer_jwt.html","id":"pkg-arg-signature_params","dir":"Reference","previous_headings":"","what":"signature_params (argument)","title":"OAuth authentication with a bearer JWT — req_oauth_bearer_jwt","text":"signature_params Additional arguments passed signature, e.g. size, header.","code":""},{"path":"/reference/req_oauth_bearer_jwt.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth authentication with a bearer JWT — req_oauth_bearer_jwt","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/req_oauth_bearer_jwt.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth authentication with a bearer JWT — req_oauth_bearer_jwt","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/req_oauth_client_credentials.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth authentication with client credentials — req_oauth_client_credentials","title":"OAuth authentication with client credentials — req_oauth_client_credentials","text":"uses oauth_flow_client_credentials() generate access token, used authentication request req_auth_bearer_token(). token cached memory.","code":""},{"path":"/reference/req_oauth_client_credentials.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth authentication with client credentials — req_oauth_client_credentials","text":"","code":"req_oauth_client_credentials(req, client, scope = NULL, token_params = list())"},{"path":"/reference/req_oauth_client_credentials.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"OAuth authentication with client credentials — req_oauth_client_credentials","text":"req request.","code":""},{"path":"/reference/req_oauth_client_credentials.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth authentication with client credentials — req_oauth_client_credentials","text":"client oauth_client().","code":""},{"path":"/reference/req_oauth_client_credentials.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth authentication with client credentials — req_oauth_client_credentials","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/req_oauth_client_credentials.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth authentication with client credentials — req_oauth_client_credentials","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/req_oauth_device.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth authentication with device flow — req_oauth_device","title":"OAuth authentication with device flow — req_oauth_device","text":"uses oauth_flow_device() generate access token, used authentication request req_auth_bearer_token(). token automatically cached (either memory disk) minimise number times flow performed.","code":""},{"path":"/reference/req_oauth_device.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth authentication with device flow — req_oauth_device","text":"","code":"req_oauth_device(   req,   client,   cache_disk = FALSE,   cache_key = NULL,   scope = NULL,   auth_params = list(),   token_params = list() )"},{"path":"/reference/req_oauth_device.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"OAuth authentication with device flow — req_oauth_device","text":"req request.","code":""},{"path":"/reference/req_oauth_device.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth authentication with device flow — req_oauth_device","text":"client oauth_client().","code":""},{"path":"/reference/req_oauth_device.html","id":"pkg-arg-cache_disk","dir":"Reference","previous_headings":"","what":"cache_disk (argument)","title":"OAuth authentication with device flow — req_oauth_device","text":"cache_disk access token cached disk? reduces number times need re-authenticate cost storing access credentials disk. Cached tokens automatically deleted 30 days creation.","code":""},{"path":"/reference/req_oauth_device.html","id":"pkg-arg-cache_key","dir":"Reference","previous_headings":"","what":"cache_key (argument)","title":"OAuth authentication with device flow — req_oauth_device","text":"cache_key want cache multiple tokens per app, use key disambiguate .","code":""},{"path":"/reference/req_oauth_device.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth authentication with device flow — req_oauth_device","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/req_oauth_device.html","id":"pkg-arg-auth_params","dir":"Reference","previous_headings":"","what":"auth_params (argument)","title":"OAuth authentication with device flow — req_oauth_device","text":"auth_params List containing additional parameters passed oauth_flow_auth_code_url()","code":""},{"path":"/reference/req_oauth_device.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth authentication with device flow — req_oauth_device","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/req_oauth_password.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth authentication with username and password — req_oauth_password","title":"OAuth authentication with username and password — req_oauth_password","text":"uses oauth_flow_password() generate access token, used authentication request req_auth_bearer_token(). token, password automatically cached (either memory disk); password used get token discarded.","code":""},{"path":"/reference/req_oauth_password.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth authentication with username and password — req_oauth_password","text":"","code":"req_oauth_password(   req,   client,   username,   password = NULL,   cache_disk = FALSE,   scope = NULL,   token_params = list() )"},{"path":"/reference/req_oauth_password.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"OAuth authentication with username and password — req_oauth_password","text":"req request.","code":""},{"path":"/reference/req_oauth_password.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth authentication with username and password — req_oauth_password","text":"client oauth_client().","code":""},{"path":"/reference/req_oauth_password.html","id":"pkg-arg-username","dir":"Reference","previous_headings":"","what":"username (argument)","title":"OAuth authentication with username and password — req_oauth_password","text":"username User name.","code":""},{"path":"/reference/req_oauth_password.html","id":"pkg-arg-password","dir":"Reference","previous_headings":"","what":"password (argument)","title":"OAuth authentication with username and password — req_oauth_password","text":"password Password. avoid entering password directly calling function captured .Rhistory. Instead, leave unset default behaviour prompt interactively.","code":""},{"path":"/reference/req_oauth_password.html","id":"pkg-arg-cache_disk","dir":"Reference","previous_headings":"","what":"cache_disk (argument)","title":"OAuth authentication with username and password — req_oauth_password","text":"cache_disk access token cached disk? reduces number times need re-authenticate cost storing access credentials disk. Cached tokens automatically deleted 30 days creation.","code":""},{"path":"/reference/req_oauth_password.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth authentication with username and password — req_oauth_password","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/req_oauth_password.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth authentication with username and password — req_oauth_password","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/req_oauth_refresh.html","id":null,"dir":"Reference","previous_headings":"","what":"OAuth authentication with a refresh token — req_oauth_refresh","title":"OAuth authentication with a refresh token — req_oauth_refresh","text":"uses oauth_flow_refresh() generate access token, used authentication request req_auth_bearer_token(). primarily useful testing: can manually execute another OAuth flow (e.g. calling oauth_flow_auth_code() oauth_flow_device()), extract refresh token result, save environment variable future use automated tests. requesting access token, server may also return new refresh token. happens, oauth_flow_refresh() error, create new refresh token following procedure get first token (good idea document first time might need ).","code":""},{"path":"/reference/req_oauth_refresh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OAuth authentication with a refresh token — req_oauth_refresh","text":"","code":"req_oauth_refresh(   req,   client,   refresh_token = Sys.getenv(\"HTTR_REFRESH_TOKEN\"),   scope = NULL,   token_params = list() )"},{"path":"/reference/req_oauth_refresh.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"OAuth authentication with a refresh token — req_oauth_refresh","text":"req request.","code":""},{"path":"/reference/req_oauth_refresh.html","id":"pkg-arg-client","dir":"Reference","previous_headings":"","what":"client (argument)","title":"OAuth authentication with a refresh token — req_oauth_refresh","text":"client oauth_client().","code":""},{"path":"/reference/req_oauth_refresh.html","id":"pkg-arg-refresh_token","dir":"Reference","previous_headings":"","what":"refresh_token (argument)","title":"OAuth authentication with a refresh token — req_oauth_refresh","text":"refresh_token refresh token. equivalent password typed console stored script. Instead, recommend placing environment variable; default behaviour look HTTR_REFRESH_TOKEN.","code":""},{"path":"/reference/req_oauth_refresh.html","id":"pkg-arg-scope","dir":"Reference","previous_headings":"","what":"scope (argument)","title":"OAuth authentication with a refresh token — req_oauth_refresh","text":"scope Scopes requested resource owner.","code":""},{"path":"/reference/req_oauth_refresh.html","id":"pkg-arg-token_params","dir":"Reference","previous_headings":"","what":"token_params (argument)","title":"OAuth authentication with a refresh token — req_oauth_refresh","text":"token_params List containing additional parameters passed token_url.","code":""},{"path":"/reference/req_options.html","id":null,"dir":"Reference","previous_headings":"","what":"Set arbitrary curl options in request — req_options","title":"Set arbitrary curl options in request — req_options","text":"req_options() expert use ; allows directly set libcurl options access features otherwise available httr2.","code":""},{"path":"/reference/req_options.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set arbitrary curl options in request — req_options","text":"","code":"req_options(.req, ...)"},{"path":"/reference/req_options.html","id":"pkg-arg-.req","dir":"Reference","previous_headings":"","what":".req (argument)","title":"Set arbitrary curl options in request — req_options","text":".req request.","code":""},{"path":"/reference/req_options.html","id":"pkg-arg-...","dir":"Reference","previous_headings":"","what":"... (argument)","title":"Set arbitrary curl options in request — req_options","text":"... Name-value pairs. name valid curl option, found curl::curl_options().","code":""},{"path":"/reference/req_perform.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform a request — req_perform","title":"Perform a request — req_perform","text":"preparing request, call req_perform() perform , fetching results back R response.","code":""},{"path":"/reference/req_perform.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform a request — req_perform","text":"","code":"req_perform(req, path = NULL, verbosity = getOption(\"httr2_verbosity\", 0L))"},{"path":"/reference/req_perform.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Perform a request — req_perform","text":"req request.","code":""},{"path":"/reference/req_perform.html","id":"pkg-arg-path","dir":"Reference","previous_headings":"","what":"path (argument)","title":"Perform a request — req_perform","text":"path Optionally, path save body request. useful large responses since avoids storing response memory.","code":""},{"path":"/reference/req_perform.html","id":"pkg-arg-verbosity","dir":"Reference","previous_headings":"","what":"verbosity (argument)","title":"Perform a request — req_perform","text":"verbosity much information print? wrapper around req_verbose() uses integer control vebosity:0: output 1: show headers 2: show headers bodies 3: show headers, bodies, curl status messages.","code":""},{"path":"/reference/req_perform.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform a request — req_perform","text":"Returns HTTP response successful status code. throw error 4xx 5xx responses; override req_error().","code":""},{"path":"/reference/req_perform.html","id":"section-requests","dir":"Reference","previous_headings":"","what":"Requests","title":"Perform a request — req_perform","text":"Note one call req_perform() may perform multiple HTTP requests: url redirected 301, 302, 303, 307, curl automatically follow Location header new location. configured retries req_retry() request fails transient problem, req_perform() try waiting bit. See req_retry() details. using OAuth, cached token expired, req_perform() get new token either using refresh token (available) running OAuth flow.","code":""},{"path":"/reference/req_retry.html","id":null,"dir":"Reference","previous_headings":"","what":"Control when a request will retry, and how long it will wait between tries — req_retry","title":"Control when a request will retry, and how long it will wait between tries — req_retry","text":"req_retry() alters req_perform() automatically retry case failure. activate , must specify either total number requests make max_tries total amount time spend max_seconds. req_perform() retry : either HTTP request HTTP response complete successfully leading error curl, lower-level library httr uses perform HTTP request. occurs, example, wifi . error \"transient\", .e. HTTP error can resolved waiting. default, 429 503 statuses treated transient, API wrapping transient status codes (conveys transient-ness property response), can override default is_transient. bad idea immediately retry request, req_perform() wait little trying : response contains Retry-header, httr2 wait amount time specifies. API wrapping conveys information different header (property response) can override default behaviour retry_after. Otherwise, httr2 use \"truncated exponential backoff full jitter\", .e. wait random amount time one second 2 ^ tries seconds, capped 60 seconds. words, waits runif(1, 1, 2) seconds first failure, runif(1, 1, 4) second, runif(1, 1, 8) third, . prefer different strategy, can override default backoff.","code":""},{"path":"/reference/req_retry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Control when a request will retry, and how long it will wait between tries — req_retry","text":"","code":"req_retry(   req,   max_tries = NULL,   max_seconds = NULL,   is_transient = NULL,   backoff = NULL,   after = NULL )"},{"path":"/reference/req_retry.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Control when a request will retry, and how long it will wait between tries — req_retry","text":"req request.","code":""},{"path":"/reference/req_retry.html","id":"pkg-arg-max_tries, max_seconds","dir":"Reference","previous_headings":"","what":"max_tries, max_seconds (argument)","title":"Control when a request will retry, and how long it will wait between tries — req_retry","text":"max_tries, max_seconds Cap maximum number attempts max_tries total elapsed time first request max_seconds. neither option supplied (default), req_perform() retry.","code":""},{"path":"/reference/req_retry.html","id":"pkg-arg-is_transient","dir":"Reference","previous_headings":"","what":"is_transient (argument)","title":"Control when a request will retry, and how long it will wait between tries — req_retry","text":"is_transient predicate function takes single argument (response) returns TRUE FALSE specifying whether response represents transient error.","code":""},{"path":"/reference/req_retry.html","id":"pkg-arg-backoff","dir":"Reference","previous_headings":"","what":"backoff (argument)","title":"Control when a request will retry, and how long it will wait between tries — req_retry","text":"backoff function takes single argument (number failed attempts far) returns number seconds wait.","code":""},{"path":"/reference/req_retry.html","id":"pkg-arg-after","dir":"Reference","previous_headings":"","what":"after (argument)","title":"Control when a request will retry, and how long it will wait between tries — req_retry","text":"function takes single argument (response) returns either number seconds wait NULL, indicates precise wait time available backoff strategy used instead..","code":""},{"path":"/reference/req_stream.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform a request, streaming data back to R — req_stream","title":"Perform a request, streaming data back to R — req_stream","text":"preparing request, call req_stream() perform request handle result streaming callback. useful streaming HTTP APIs potentially stream never ends.","code":""},{"path":"/reference/req_stream.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform a request, streaming data back to R — req_stream","text":"","code":"req_stream(req, callback, timeout_sec = Inf, buffer_kb = 64)"},{"path":"/reference/req_stream.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Perform a request, streaming data back to R — req_stream","text":"req request.","code":""},{"path":"/reference/req_stream.html","id":"pkg-arg-callback","dir":"Reference","previous_headings":"","what":"callback (argument)","title":"Perform a request, streaming data back to R — req_stream","text":"callback single argument callback function. called repeatedly raw vector whenever least buffer_kb worth data process. must return TRUE continue streaming.","code":""},{"path":"/reference/req_stream.html","id":"pkg-arg-timeout_sec","dir":"Reference","previous_headings":"","what":"timeout_sec (argument)","title":"Perform a request, streaming data back to R — req_stream","text":"timeout_sec Number seconds processs stream .","code":""},{"path":"/reference/req_stream.html","id":"pkg-arg-buffer_kb","dir":"Reference","previous_headings":"","what":"buffer_kb (argument)","title":"Perform a request, streaming data back to R — req_stream","text":"buffer_kb Buffer size, kilobytes.","code":""},{"path":"/reference/req_template.html","id":null,"dir":"Reference","previous_headings":"","what":"Set method/path from a template — req_template","title":"Set method/path from a template — req_template","text":"Many APIs document methods lightweight template mechanism looks like GET /user/{user} POST /organisation/:org. function makes easy copy paste snippets retrieve template variables either function arguments current environment:","code":""},{"path":"/reference/req_template.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set method/path from a template — req_template","text":"","code":"req_template(req, template, ..., .env = parent.frame())"},{"path":"/reference/req_template.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Set method/path from a template — req_template","text":"req request.","code":""},{"path":"/reference/req_template.html","id":"pkg-arg-template","dir":"Reference","previous_headings":"","what":"template (argument)","title":"Set method/path from a template — req_template","text":"template template string consists optional HTTP method path containing variables labelled like either :foo {foo}.","code":""},{"path":"/reference/req_template.html","id":"pkg-arg-...","dir":"Reference","previous_headings":"","what":"... (argument)","title":"Set method/path from a template — req_template","text":"... Template variables.","code":""},{"path":"/reference/req_template.html","id":"pkg-arg-.env","dir":"Reference","previous_headings":"","what":".env (argument)","title":"Set method/path from a template — req_template","text":".env Environment look template variables found .... Expert use .","code":""},{"path":"/reference/req_throttle.html","id":null,"dir":"Reference","previous_headings":"","what":"Throttle a request by automatically adding a delay — req_throttle","title":"Throttle a request by automatically adding a delay — req_throttle","text":"Use req_throttle() ensure repeated calls req_perform() never exceed specified rate.","code":""},{"path":"/reference/req_throttle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Throttle a request by automatically adding a delay — req_throttle","text":"","code":"req_throttle(req, rate, realm = NULL)"},{"path":"/reference/req_throttle.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Throttle a request by automatically adding a delay — req_throttle","text":"req request.","code":""},{"path":"/reference/req_throttle.html","id":"pkg-arg-rate","dir":"Reference","previous_headings":"","what":"rate (argument)","title":"Throttle a request by automatically adding a delay — req_throttle","text":"rate Maximum rate, .e. maximum number requests per second. Usually easiest expressed fraction, number_of_requests / number_of_seconds, e.g. 15 requests per minute 15 / 60.","code":""},{"path":"/reference/req_throttle.html","id":"pkg-arg-realm","dir":"Reference","previous_headings":"","what":"realm (argument)","title":"Throttle a request by automatically adding a delay — req_throttle","text":"realm unique identifier throttle pool. supplied, defaults hostname request.","code":""},{"path":"/reference/req_timeout.html","id":null,"dir":"Reference","previous_headings":"","what":"Set time limit — req_timeout","title":"Set time limit — req_timeout","text":"error thrown request complete time limit.","code":""},{"path":"/reference/req_timeout.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set time limit — req_timeout","text":"","code":"req_timeout(req, seconds)"},{"path":"/reference/req_timeout.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Set time limit — req_timeout","text":"req request.","code":""},{"path":"/reference/req_timeout.html","id":"pkg-arg-seconds","dir":"Reference","previous_headings":"","what":"seconds (argument)","title":"Set time limit — req_timeout","text":"seconds Maximum number seconds wait","code":""},{"path":"/reference/req_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Modify request URL — req_url","title":"Modify request URL — req_url","text":"req_url() replaces entire url req_url_query() modifies components query req_url_path() modifies path req_url_path_append() adds path","code":""},{"path":"/reference/req_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modify request URL — req_url","text":"","code":"req_url(req, url)  req_url_query(req, ...)  req_url_path(req, path)  req_url_path_append(req, path)"},{"path":"/reference/req_url.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Modify request URL — req_url","text":"req request.","code":""},{"path":"/reference/req_url.html","id":"pkg-arg-url","dir":"Reference","previous_headings":"","what":"url (argument)","title":"Modify request URL — req_url","text":"url New URL; completely replaces existing.","code":""},{"path":"/reference/req_url.html","id":"pkg-arg-...","dir":"Reference","previous_headings":"","what":"... (argument)","title":"Modify request URL — req_url","text":"... Name-value pairs provide query parameters.","code":""},{"path":"/reference/req_url.html","id":"pkg-arg-path","dir":"Reference","previous_headings":"","what":"path (argument)","title":"Modify request URL — req_url","text":"path Path replace append existing path.","code":""},{"path":"/reference/req_url.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Modify request URL — req_url","text":"modified HTTP request.","code":""},{"path":"/reference/req_user_agent.html","id":null,"dir":"Reference","previous_headings":"","what":"Set user-agent — req_user_agent","title":"Set user-agent — req_user_agent","text":"overrides default user-agent set httr2 includes version numbers httr2, curl package, libcurl.","code":""},{"path":"/reference/req_user_agent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set user-agent — req_user_agent","text":"","code":"req_user_agent(req, string = NULL, versions = NULL)"},{"path":"/reference/req_user_agent.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Set user-agent — req_user_agent","text":"req request.","code":""},{"path":"/reference/req_user_agent.html","id":"pkg-arg-string","dir":"Reference","previous_headings":"","what":"string (argument)","title":"Set user-agent — req_user_agent","text":"string String sent User-Agent header.","code":""},{"path":"/reference/req_user_agent.html","id":"pkg-arg-versions","dir":"Reference","previous_headings":"","what":"versions (argument)","title":"Set user-agent — req_user_agent","text":"versions Named character vector used construct user-agent string using lightweight convention. string versions omitted,","code":""},{"path":"/reference/req_verbose.html","id":null,"dir":"Reference","previous_headings":"","what":"Show extra output when request is performed — req_verbose","title":"Show extra output when request is performed — req_verbose","text":"req_verbose() uses following prefixes distinguish different components HTTP requests responses: *  informative curl messages <- request headers << request body -> response headers >> response body","code":""},{"path":"/reference/req_verbose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show extra output when request is performed — req_verbose","text":"","code":"req_verbose(   req,   header_req = TRUE,   header_resp = TRUE,   body_req = FALSE,   body_resp = FALSE,   info = FALSE,   redact_headers = TRUE )"},{"path":"/reference/req_verbose.html","id":"pkg-arg-req","dir":"Reference","previous_headings":"","what":"req (argument)","title":"Show extra output when request is performed — req_verbose","text":"req request.","code":""},{"path":"/reference/req_verbose.html","id":"pkg-arg-header_req, header_resp","dir":"Reference","previous_headings":"","what":"header_req, header_resp (argument)","title":"Show extra output when request is performed — req_verbose","text":"header_req, header_resp Show request/response headers?","code":""},{"path":"/reference/req_verbose.html","id":"pkg-arg-body_req, body_resp","dir":"Reference","previous_headings":"","what":"body_req, body_resp (argument)","title":"Show extra output when request is performed — req_verbose","text":"body_req, body_resp request/response bodies? response body compressed, show number bytes recevied \"chunk\".","code":""},{"path":"/reference/req_verbose.html","id":"pkg-arg-info","dir":"Reference","previous_headings":"","what":"info (argument)","title":"Show extra output when request is performed — req_verbose","text":"info Show informational text curl? mainly useful debugging https auth problems, disabled default.","code":""},{"path":"/reference/req_verbose.html","id":"pkg-arg-redact_headers","dir":"Reference","previous_headings":"","what":"redact_headers (argument)","title":"Show extra output when request is performed — req_verbose","text":"redact_headers Redact confidential data headers? Currently redacts contents Authorization header prevent accidentally leaking credentials debugging/reprexing.","code":""},{"path":"/reference/request.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a new HTTP request — request","title":"Create a new HTTP request — request","text":"perform HTTP request, first create request object request(), define behaviour req_ functions, perform request fetch response req_perform().","code":""},{"path":"/reference/request.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a new HTTP request — request","text":"","code":"request(base_url)"},{"path":"/reference/request.html","id":"pkg-arg-base_url","dir":"Reference","previous_headings":"","what":"base_url (argument)","title":"Create a new HTTP request — request","text":"base_url Base URL request.","code":""},{"path":"/reference/resp_body_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract the body from the response — resp_body_raw","title":"Extract the body from the response — resp_body_raw","text":"resp_body_raw() returns raw bytes. resp_body_string() returns UTF-8 string. resp_body_json() returns parsed JSON. resp_body_html() returns parsed HTML. resp_body_xml() returns parsed XML. resp_body_json() resp_body_xml() check content-type header correct; server returns incorrect type can suppress check check_type = FALSE.","code":""},{"path":"/reference/resp_body_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract the body from the response — resp_body_raw","text":"","code":"resp_body_raw(resp)  resp_body_string(resp, encoding = NULL)  resp_body_json(resp, check_type = TRUE, simplifyVector = FALSE, ...)  resp_body_html(resp, check_type = TRUE, ...)  resp_body_xml(resp, check_type = TRUE, ...)"},{"path":"/reference/resp_body_raw.html","id":"pkg-arg-resp","dir":"Reference","previous_headings":"","what":"resp (argument)","title":"Extract the body from the response — resp_body_raw","text":"resp response object.","code":""},{"path":"/reference/resp_body_raw.html","id":"pkg-arg-encoding","dir":"Reference","previous_headings":"","what":"encoding (argument)","title":"Extract the body from the response — resp_body_raw","text":"encoding Character encoding body text. specified, use encoding specified content-type, falling back UTF-8 warning found. resulting string always re-encoded UTF-8.","code":""},{"path":"/reference/resp_body_raw.html","id":"pkg-arg-check_type","dir":"Reference","previous_headings":"","what":"check_type (argument)","title":"Extract the body from the response — resp_body_raw","text":"check_type Check response expected content type? Set FALSE suppress automated check","code":""},{"path":"/reference/resp_body_raw.html","id":"pkg-arg-simplifyVector","dir":"Reference","previous_headings":"","what":"simplifyVector (argument)","title":"Extract the body from the response — resp_body_raw","text":"simplifyVector JSON arrays containing primitives (.e. booleans, numbers, strings) caused atomic vectors?","code":""},{"path":"/reference/resp_body_raw.html","id":"pkg-arg-...","dir":"Reference","previous_headings":"","what":"... (argument)","title":"Extract the body from the response — resp_body_raw","text":"... argumented passed jsonlite::fromJSON() xml2::read_xml() respectively.","code":""},{"path":"/reference/resp_content_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract response content type and encoding — resp_content_type","title":"Extract response content type and encoding — resp_content_type","text":"resp_content_type() returns just type subtype Content-Type header. Content-Type provided; returns NA. Used resp_body_json(), resp_body_html(), resp_body_xml(). resp_encoding() returns likely character encoding text types, parsed charset parameter Content-Type header. header found, valid, charset parameter found, returns UTF-8. Used resp_body_string().","code":""},{"path":"/reference/resp_content_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract response content type and encoding — resp_content_type","text":"","code":"resp_content_type(resp)  resp_encoding(resp)"},{"path":"/reference/resp_content_type.html","id":"pkg-arg-resp","dir":"Reference","previous_headings":"","what":"resp (argument)","title":"Extract response content type and encoding — resp_content_type","text":"resp HTTP response object, created req_perform().","code":""},{"path":"/reference/resp_date.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract request date from response — resp_date","title":"Extract request date from response — resp_date","text":"responses contain request date Date header; provided server automatically added httr2.","code":""},{"path":"/reference/resp_date.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract request date from response — resp_date","text":"","code":"resp_date(resp)"},{"path":"/reference/resp_date.html","id":"pkg-arg-resp","dir":"Reference","previous_headings":"","what":"resp (argument)","title":"Extract request date from response — resp_date","text":"resp HTTP response object, created req_perform().","code":""},{"path":"/reference/resp_headers.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract headers from a response — resp_headers","title":"Extract headers from a response — resp_headers","text":"resp_headers() retrieves list headers. resp_header() retrieves single header. resp_header_exists() checks header present.","code":""},{"path":"/reference/resp_headers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract headers from a response — resp_headers","text":"","code":"resp_headers(resp)  resp_header(resp, header)  resp_header_exists(resp, header)"},{"path":"/reference/resp_headers.html","id":"pkg-arg-resp","dir":"Reference","previous_headings":"","what":"resp (argument)","title":"Extract headers from a response — resp_headers","text":"resp HTTP response object, created req_perform().","code":""},{"path":"/reference/resp_headers.html","id":"pkg-arg-header","dir":"Reference","previous_headings":"","what":"header (argument)","title":"Extract headers from a response — resp_headers","text":"header Header name (case insensitive)","code":""},{"path":"/reference/resp_link_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse link url from a response — resp_link_url","title":"Parse link url from a response — resp_link_url","text":"parses Link header, extracting url corresponding specified rel. Returns NULL present.","code":""},{"path":"/reference/resp_link_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse link url from a response — resp_link_url","text":"","code":"resp_link_url(resp, rel)"},{"path":"/reference/resp_link_url.html","id":"pkg-arg-resp","dir":"Reference","previous_headings":"","what":"resp (argument)","title":"Parse link url from a response — resp_link_url","text":"resp HTTP response object, created req_perform().","code":""},{"path":"/reference/resp_link_url.html","id":"pkg-arg-rel","dir":"Reference","previous_headings":"","what":"rel (argument)","title":"Parse link url from a response — resp_link_url","text":"rel \"rel\" value retrieve url","code":""},{"path":"/reference/resp_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Show the raw response — resp_raw","title":"Show the raw response — resp_raw","text":"reconstruct HTTP message httr2 received server. unlikely exactly (servers compress least body, HTTP/2 can also compress headers), conveys information.","code":""},{"path":"/reference/resp_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show the raw response — resp_raw","text":"","code":"resp_raw(resp)"},{"path":"/reference/resp_raw.html","id":"pkg-arg-resp","dir":"Reference","previous_headings":"","what":"resp (argument)","title":"Show the raw response — resp_raw","text":"resp HTTP response","code":""},{"path":"/reference/resp_retry_after.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract wait time from a response — resp_retry_after","title":"Extract wait time from a response — resp_retry_after","text":"Computes many seconds wait retrying request inspecting Retry-header. parses forms (absolute relative) returns number seconds wait. heading found, return NA.","code":""},{"path":"/reference/resp_retry_after.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract wait time from a response — resp_retry_after","text":"","code":"resp_retry_after(resp)"},{"path":"/reference/resp_retry_after.html","id":"pkg-arg-resp","dir":"Reference","previous_headings":"","what":"resp (argument)","title":"Extract wait time from a response — resp_retry_after","text":"resp HTTP response object, created req_perform().","code":""},{"path":"/reference/resp_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve response status — resp_status","title":"Retrieve response status — resp_status","text":"resp_status() retrieves numeric HTTP status code resp_status_desc() retrieves brief textual description. resp_is_error() returns TRUE status code represents error (.e. 4xx 5xx status). resp_check_status() turns HTTPs errors R errors. functions mostly internal use cases ever see 200 response: 1xx handled internally curl. 3xx redirects automatically followed. see deliberately suppressed redirects req %>% req_options(followlocation = FALSE). 4xx client 5xx server errors automatically turned R errors. can stop turned R errors req_error(), e.g. req %>% req_error(is_error = ~ FALSE).","code":""},{"path":"/reference/resp_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve response status — resp_status","text":"","code":"resp_status(resp)  resp_status_desc(resp)  resp_is_error(resp)  resp_check_status(resp, info = NULL)"},{"path":"/reference/resp_status.html","id":"pkg-arg-resp","dir":"Reference","previous_headings":"","what":"resp (argument)","title":"Retrieve response status — resp_status","text":"resp HTTP response object, created req_perform().","code":""},{"path":"/reference/resp_status.html","id":"pkg-arg-info","dir":"Reference","previous_headings":"","what":"info (argument)","title":"Retrieve response status — resp_status","text":"info character vector additional information include error message. Passed rlang::abort().","code":""},{"path":"/reference/response.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a new HTTP response — response","title":"Create a new HTTP response — response","text":"Generally, need call function directly; get real HTTP response calling req_perform() friends. function provided primarily testing, place describe key components response.","code":""},{"path":"/reference/response.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a new HTTP response — response","text":"","code":"response(   status_code = 200,   url = \"https://example.com\",   method = \"GET\",   headers = list(),   body = NULL )"},{"path":"/reference/response.html","id":"pkg-arg-status_code","dir":"Reference","previous_headings":"","what":"status_code (argument)","title":"Create a new HTTP response — response","text":"status_code HTTP status code. Must single integer.","code":""},{"path":"/reference/response.html","id":"pkg-arg-url","dir":"Reference","previous_headings":"","what":"url (argument)","title":"Create a new HTTP response — response","text":"url URL response came ; might URL request redirects.","code":""},{"path":"/reference/response.html","id":"pkg-arg-method","dir":"Reference","previous_headings":"","what":"method (argument)","title":"Create a new HTTP response — response","text":"method HTTP method used retrieve response.","code":""},{"path":"/reference/response.html","id":"pkg-arg-headers","dir":"Reference","previous_headings":"","what":"headers (argument)","title":"Create a new HTTP response — response","text":"headers HTTP headers. Can supplied raw character vector parsed using standard rules, named list.","code":""},{"path":"/reference/response.html","id":"pkg-arg-body","dir":"Reference","previous_headings":"","what":"body (argument)","title":"Create a new HTTP response — response","text":"body Response, , contained response body.","code":""},{"path":"/reference/secrets.html","id":null,"dir":"Reference","previous_headings":"","what":"Secret management — secrets","title":"Secret management — secrets","text":"httr2 provides handful functions designed working confidential data. useful testing packages use httr2 often requires confidential data needs available testing, available package users. secret_encrypt() secret_decrypt() work individual strings secret_write_rds() secret_read_rds() work .rds files secret_make_key() generates random string use key. secret_has_key() returns TRUE key available; can use examples vignettes want evaluate CI, CRAN/package users. look key environment variable. used inside testthat, automatically testthat::skip() test env var found. (Outside testthat, error env var found.)","code":""},{"path":"/reference/secrets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Secret management — secrets","text":"","code":"secret_make_key()  secret_encrypt(x, key)  secret_decrypt(encrypted, key)  secret_write_rds(x, path, key)  secret_read_rds(path, key)  secret_has_key(key)"},{"path":"/reference/secrets.html","id":"pkg-arg-x","dir":"Reference","previous_headings":"","what":"x (argument)","title":"Secret management — secrets","text":"x Object encrypt. Must string secret_encrypt().","code":""},{"path":"/reference/secrets.html","id":"pkg-arg-key","dir":"Reference","previous_headings":"","what":"key (argument)","title":"Secret management — secrets","text":"key Encryption key; password allows \"lock\" \"unlock\" secret. easiest way specify name environment variable. Alternatively, already base64url encoded string, can wrap (), can pass raw vector directly.","code":""},{"path":"/reference/secrets.html","id":"pkg-arg-encrypted","dir":"Reference","previous_headings":"","what":"encrypted (argument)","title":"Secret management — secrets","text":"encrypted String decrypt","code":""},{"path":"/reference/secrets.html","id":"pkg-arg-path","dir":"Reference","previous_headings":"","what":"path (argument)","title":"Secret management — secrets","text":"path Path .rds file","code":""},{"path":"/reference/secrets.html","id":"section-basic-workflow","dir":"Reference","previous_headings":"","what":"Basic workflow","title":"Secret management — secrets","text":"Use secret_make_key() generate password. Make available env var (e.g. {MYPACKAGE}_KEY) adding line .Renviron. Encrypt strings secret_encrypt() data secret_write_rds(), setting key = \"{MYPACKAGE}_KEY\". tests, decrypt data secret_decrypt() secret_read_rds() match encrypt . push code CI server, already \"work\" functions automatically skip tests {MYPACKAGE}_KEY} env var set. make tests actually run, need set env var using whatever tool CI system provides setting env vars. Make sure carefully inspect test output check skips actually gone away.","code":""},{"path":"/reference/url_parse.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse and build URLs — url_parse","title":"Parse and build URLs — url_parse","text":"url_parse() parses URL component pieces; url_build() reverse, converting list pieces string URL. See rfc3986 details parsing algorithm.","code":""},{"path":"/reference/url_parse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse and build URLs — url_parse","text":"","code":"url_parse(url)  url_build(url)"},{"path":"/reference/url_parse.html","id":"pkg-arg-url","dir":"Reference","previous_headings":"","what":"url (argument)","title":"Parse and build URLs — url_parse","text":"url url_parse() string parse url; url_build() url turn back string.","code":""},{"path":"/reference/url_parse.html","id":"section-value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse and build URLs — url_parse","text":"URL S3 list class httr2_url elements scheme, hostname, port, path, fragment, query, username, password.","code":""},{"path":"/reference/with_verbosity.html","id":null,"dir":"Reference","previous_headings":"","what":"Temporarily set verbosity for all requests — with_verbosity","title":"Temporarily set verbosity for all requests — with_verbosity","text":"with_verbose() useful debugging httr2 code buried deep inside another package allows see exactly sent requested.","code":""},{"path":"/reference/with_verbosity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Temporarily set verbosity for all requests — with_verbosity","text":"","code":"with_verbosity(code, verbosity = 1)"},{"path":"/reference/with_verbosity.html","id":"pkg-arg-code","dir":"Reference","previous_headings":"","what":"code (argument)","title":"Temporarily set verbosity for all requests — with_verbosity","text":"code Code execture","code":""},{"path":"/reference/with_verbosity.html","id":"pkg-arg-verbosity","dir":"Reference","previous_headings":"","what":"verbosity (argument)","title":"Temporarily set verbosity for all requests — with_verbosity","text":"verbosity much information print? wrapper around req_verbose() uses integer control vebosity:0: output 1: show headers 2: show headers bodies 3: show headers, bodies, curl status messages.","code":""}]
